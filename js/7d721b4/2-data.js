Sydney.data=function(){function j(a,c){c=c||f;for(var h=0;h<c.length;h++){var b=c[h];if(b.id==a)return b.children;if(_.isArray(b.children)&&(b=j(a,b.children),!1!==b))return b}return!1}function k(a){return _.isUndefined(d[a])?"":d[a].title}function l(a,c){_.isUndefined(a)&&(a=f,c="0");$.each(a,function(a,b){d[b.id]={title:b.title,pid:c,type:b.type};d[b.id].pid=c;_.isUndefined(b.children)||l(b.children,b.id)})}var f=[],d={},e={},g=[];return{init:function(){var a=Sydney.globals.language;$.ajax({type:"GET",
dataType:"json",url:"data/"+a+"/menu.json",async:!1,success:function(a){f=a}});$.ajax({type:"GET",dataType:"json",url:"data/"+a+"/content.json",async:!1,success:function(a){e=a}});$.ajax({type:"GET",url:"data/"+a+"/searchindex.csv",async:!1,success:function(a){g=a.split("\n")}});l()},getArticleDataById:function(a){return _.isUndefined(e[a])?[]:e[a]},getItemMenuParentId:function(a){return _.isUndefined(d[a])?-1:d[a].pid},getArticleTitle:function(a){return _.isArray(e[a])&&!_.isUndefined(e[a][0])?e[a][0].data:
""},getMenuData:function(){return f},getMenuItemChildrenItems:j,getIdOfFirstArticleInMenu:function(){for(var a=f[0],c=!1;!c;)if("document"==a.type)c=!0;else if(_.isArray(a.children))a=a.children[0];else return!1;return a.id},getRootItemId:function(a){if(_.isUndefined(d[a]))return-1;var c=a;for(a=d[a].pid;"0"!==a&&!_.isUndefined(a);)c=a,a=d[c].pid;return c},getItemMenuTitle:k,getPlainTextItemMenuTitle:function(a){return k(a).replace(/<(?:.|\n)*?>/gm,"")},getSearchResults:function(a){var c=[],d,b;for(d=
0;d<g.length;d++)-1!==g[d].indexOf(a)&&(b=g[d].split(";"),_.isString(b[1])&&c.push({id:b[1].replace(" ",""),type:b[3].replace(" ","")}));return c},getDatabase:function(){return e}}}();
