Sydney["recent-articles"]=function(){function j(a,c){if(g)g=!1;else{var e,f;if(!_.isNull(c))if(h)e=_.findIndex(b,function(a){return a===c}),0!==e&&(f=null,-1!==e?(f=b[e],b.splice(e,1)):b.length===k&&(f=b.pop()),null!==f&&Sydney["list-nav"].removeItemFromList(d,{id:f}),b.unshift(c),Sydney["list-nav"].addItemToList(d,{type:"header-item"},{id:c,rootid:Sydney.data.getRootItemId(c),title:Sydney.data.getItemMenuTitle(c)},"prepend"),Sydney["user-data"].setOfflineData("recent-articles",b),Sydney["list-nav"].setListItemActive(d,
{id:c},!0,!1,!1));else Sydney.events.on("recent-articles","data-loaded",function(){j(a,c)})}}function l(a){g=!0;Sydney.article.openArticleById(a.id);Sydney["list-nav"].setListItemActive(d,{id:a.id},!0,!1,!1);event.stopPropagation()}var d,h=!1,b=[],k=5,g=!1;return{init:function(){d=$("#recent-articles-list");Sydney.events.on("article","afterArticleOpen",j)},start:function(){Sydney["list-nav"].createList(d,{levels:{1:{css_class:"header-list-item",active:!0,allow_multiple_actives:!0,expandable:!0,children_placeholder_title:t("recent_articles.no_recent_articles_text"),
children_placeholder_class:"article-list-item"},2:{css_class:"article-list-item",active:!1,allow_multiple_actives:!1,expandable:!1,click_callback:l}}});Sydney["user-data"].getOfflineData("recent-articles",function(a){b=_.isArray(a)?a:[];h=!0;var c;c={title:t("recent_articles.title"),children:[],type:"header-item"};for(a=0;a<b.length;a++)c.children.push({id:b[a],rootid:Sydney.data.getRootItemId(b[a]),title:Sydney.data.getItemMenuTitle(b[a])});Sydney["list-nav"].renderAndShowList(d,[c]);Sydney.events.trigger("recent-articles",
"data-loaded")})},getIdOfMostRecentArticle:function(a){if(h)a(b[0]);else Sydney.events.on("recent-articles","data-loaded",function(){0<b.length?a(b[0]):a(null)})}}}();
