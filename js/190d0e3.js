/*

 Lo-Dash 1.3.1 (Custom Build) <http://lodash.com/>
 Build: `lodash -o ./dist/lodash.compat.js`
 Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.4.4 <http://underscorejs.org/>
 Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 Available under MIT license <http://lodash.com/license>
*/
(function(X){function Y(g,d,j){j=(j||0)-1;for(var q=g.length;++j<q;)if(g[j]===d)return j;return-1}function ta(g,d){var j=typeof d;g=g.cache;if("boolean"==j||null==d)return g[d];"number"!=j&&"string"!=j&&(j="object");var q="number"==j?d:Ka+d;g=g[j]||(g[j]={});return"object"==j?g[q]&&-1<Y(g[q],d)?0:-1:g[q]?0:-1}function La(g){var d=this.cache,j=typeof g;if("boolean"==j||null==g)d[g]=!0;else{"number"!=j&&"string"!=j&&(j="object");var q="number"==j?g:Ka+g,r=d[j]||(d[j]={});if("object"==j){if((r[q]||(r[q]=
[])).push(g)==this.array.length)d[j]=!1}else r[q]=!0}}function mb(g){return g.charCodeAt(0)}function Qb(g,d){var j=g.index,q=d.index;g=g.criteria;d=d.criteria;if(g!==d){if(g>d||"undefined"==typeof g)return 1;if(g<d||"undefined"==typeof d)return-1}return j<q?-1:1}function Ma(g){var d=-1,j=g.length,q=na();q["false"]=q["null"]=q["true"]=q.undefined=!1;var r=na();r.array=g;r.cache=q;for(r.push=La;++d<j;)r.push(g[d]);return!1===q.object?(Q(r),null):r}function Rb(g){return"\\"+Na[g]}function M(){return Z.pop()||
[]}function na(){return $.pop()||{args:"",array:null,bottom:"",cache:null,criteria:null,"false":!1,firstArg:"",index:0,init:"",leading:!1,loop:"",maxWait:0,"null":!1,number:null,object:null,push:null,shadowedProps:null,string:null,top:"",trailing:!1,"true":!1,undefined:!1,useHas:!1,useKeys:!1,value:null}}function ua(g){return"function"!=typeof g.toString&&"string"==typeof(g+"")}function Oa(){}function B(g){g.length=0;Z.length<va&&Z.push(g)}function Q(g){var d=g.cache;d&&Q(d);g.array=g.cache=g.criteria=
g.object=g.number=g.string=g.value=null;$.length<va&&$.push(g)}function aa(g,d,j){d||(d=0);"undefined"==typeof j&&(j=g?g.length:0);var q=-1;j=j-d||0;for(var r=Array(0>j?0:j);++q<j;)r[q]=g[d+q];return r}function Pa(g){function d(e){return e&&"object"==typeof e&&!s(e)&&u.call(e,"__wrapped__")?e:new j(e)}function j(e){this.__wrapped__=e}function q(e,a,b,c){function h(){var c=arguments,g=m?this:a;d||(e=a[t]);b.length&&(c=c.length?(c=x.call(c),p?c.concat(b):b.concat(c)):b);return this instanceof h?(g=
L(e.prototype),c=e.apply(g,c),C(c)?c:g):e.apply(g,c)}var d=D(e),m=!b,t=a;if(m){var p=c;b=a}else if(!d){if(!c)throw new Sb;a=e}return h}function r(){var e=na();e.shadowedProps=Qa;e.array=e.bottom=e.loop=e.top="";e.init="iterable";e.useHas=!0;e.useKeys=!!E;for(var a,b=0;a=arguments[b];b++)for(var c in a)e[c]=a[c];b=e.args;e.firstArg=/^[^,]+/.exec(b)[0];a=wa;b="return function("+b+") {\n";c="var index, iterable = "+e.firstArg+", result = "+e.init+";\nif (!iterable) return result;\n"+e.top+";";e.array?
(c+="\nvar length = iterable.length; index = -1;\nif ("+e.array+") {  ",n.unindexedChars&&(c+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),c+="\n  while (++index < length) {\n    "+e.loop+";\n  }\n}\nelse {  "):n.nonEnumArgs&&(c+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+e.loop+";\n    }\n  } else {  ");n.enumPrototypes&&(c+="\n  var skipProto = typeof iterable == 'function';\n  ");
n.enumErrorProps&&(c+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var h=[];n.enumPrototypes&&h.push('!(skipProto && index == "prototype")');n.enumErrorProps&&h.push('!(skipErrorProps && (index == "message" || index == "name"))');if(e.useHas&&e.useKeys)c+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",
h.length&&(c+="    if ("+h.join(" && ")+") {\n  "),c+=e.loop+";    ",h.length&&(c+="\n    }"),c+="\n  }  ";else if(c+="\n  for (index in iterable) {\n",e.useHas&&h.push("hasOwnProperty.call(iterable, index)"),h.length&&(c+="    if ("+h.join(" && ")+") {\n  "),c+=e.loop+";    ",h.length&&(c+="\n    }"),c+="\n  }    ",n.nonEnumShadows){c+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ";
for(k=0;7>k;k++)c+="\n    index = '"+e.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",e.useHas||(c+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),c+=") {\n      "+e.loop+";\n    }      ";c+="\n  }    "}if(e.array||n.nonEnumArgs)c+="\n}";c+=e.bottom+";\nreturn result";a=a("errorClass, errorProto, hasOwnProperty, isArguments, isArray, isString, keys, lodash, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString",
b+c+"\n}");Q(e);return a(nb,Ra,u,F,s,N,E,d,oa,ba,z,R,Tb,v)}function L(e){return C(e)?xa(e):{}}function ma(e){return ob[e]}function pa(){var e=(e=d.indexOf)===pb?Y:e;return e}function Z(e){return function(a,b,c,h){"boolean"!=typeof b&&null!=b&&(h=c,c=!(h&&h[b]===a)?b:W,b=!1);null!=c&&(c=d.createCallback(c,h));return e(a,b,c,h)}}function $(e){var a,b;if(!(e&&v.call(e)==G)||(a=e.constructor,D(a)&&!(a instanceof a))||!n.argsClass&&F(e)||!n.nodeClass&&ua(e))return!1;if(n.ownLast)return S(e,function(a,
e,d){b=u.call(d,e);return!1}),!1!==b;S(e,function(a,e){b=e});return b===W||u.call(e,b)}function va(e){return Ub[e]}function F(e){return v.call(e)==qa}function Sa(e,a,b,c,h,f){var m=e;"boolean"!=typeof a&&null!=a&&(c=b,b=a,a=!1);if("function"==typeof b){b="undefined"==typeof c?b:d.createCallback(b,c,1);m=b(m);if("undefined"!=typeof m)return m;m=e}if(c=C(m)){var t=v.call(m);if(!H[t]||!n.nodeClass&&ua(m))return m;var p=s(m)}if(!c||!a)return c?p?aa(m):Ta({},m):m;c=O[t];switch(t){case ca:case da:return new c(+m);
case ea:case R:return new c(m);case fa:return c(m.source,Vb.exec(m))}t=!h;h||(h=M());f||(f=M());for(var l=h.length;l--;)if(h[l]==e)return f[l];m=p?c(m.length):{};p&&(u.call(e,"index")&&(m.index=e.index),u.call(e,"input")&&(m.input=e.input));h.push(e);f.push(m);(p?w:T)(e,function(c,e){m[e]=Sa(c,a,b,W,h,f)});t&&(B(h),B(f));return m}function ya(e){var a=[];S(e,function(b,c){D(b)&&a.push(c)});return a.sort()}function qb(e){for(var a=-1,b=E(e),c=b.length,h={};++a<c;){var d=b[a];h[e[d]]=d}return h}function ga(e,
a,b,c,h,f){var m=b===ha;if("function"==typeof b&&!m){b=d.createCallback(b,c,2);var t=b(e,a);if("undefined"!=typeof t)return!!t}if(e===a)return 0!==e||1/e==1/a;var p=typeof e,l=typeof a;if(e===e&&(!e||"function"!=p&&"object"!=p)&&(!a||"function"!=l&&"object"!=l))return!1;if(null==e||null==a)return e===a;l=v.call(e);p=v.call(a);l==qa&&(l=G);p==qa&&(p=G);if(l!=p)return!1;switch(l){case ca:case da:return+e==+a;case ea:return e!=+e?a!=+a:0==e?1/e==1/a:e==+a;case fa:case R:return e==I(a)}p=l==ia;if(!p){if(u.call(e,
"__wrapped__ ")||u.call(a,"__wrapped__"))return ga(e.__wrapped__||e,a.__wrapped__||a,b,c,h,f);if(l!=G||!n.nodeClass&&(ua(e)||ua(a)))return!1;var l=!n.argsObject&&F(e)?P:e.constructor,g=!n.argsObject&&F(a)?P:a.constructor;if(l!=g&&(!D(l)||!(l instanceof l&&D(g)&&g instanceof g)))return!1}g=!h;h||(h=M());f||(f=M());for(l=h.length;l--;)if(h[l]==e)return f[l]==a;var j=0,t=!0;h.push(e);f.push(a);if(p){l=e.length;j=a.length;t=j==e.length;if(!t&&!m)return t;for(;j--;)if(p=l,g=a[j],m)for(;p--&&!(t=ga(e[p],
g,b,c,h,f)););else if(!(t=ga(e[j],g,b,c,h,f)))break;return t}S(a,function(a,d,m){if(u.call(m,d))return j++,t=u.call(e,d)&&ga(e[d],a,b,c,h,f)});t&&!m&&S(e,function(a,b,c){if(u.call(c,b))return t=-1<--j});g&&(B(h),B(f));return t}function D(e){return"function"==typeof e}function C(e){return!(!e||!ba[typeof e])}function rb(e){return"number"==typeof e||v.call(e)==ea}function N(e){return"string"==typeof e||v.call(e)==R}function sb(e,a,b){var c=arguments,h=0,f=2;if(!C(e))return e;if(b===ha)var m=c[3],t=
c[4],g=c[5];else{var l=!0,t=M(),g=M();"number"!=typeof b&&(f=c.length);3<f&&"function"==typeof c[f-2]?m=d.createCallback(c[--f-1],c[f--],2):2<f&&"function"==typeof c[f-1]&&(m=c[--f])}for(;++h<f;)(s(c[h])?J:T)(c[h],function(a,b){var c,h,d=a,f=e[b];if(a&&((h=s(a))||Ua(a))){for(d=t.length;d--;)if(c=t[d]==a){f=g[d];break}if(!c){var l;if(m&&(d=m(f,a),l="undefined"!=typeof d))f=d;l||(f=h?s(f)?f:[]:Ua(f)?f:{});t.push(a);g.push(f);l||(f=sb(f,a,ha,m,t,g))}}else m&&(d=m(f,a),"undefined"==typeof d&&(d=a)),"undefined"!=
typeof d&&(f=d);e[b]=f});l&&(B(t),B(g));return e}function Va(e){for(var a=-1,b=E(e),c=b.length,d=A(c);++a<c;)d[a]=e[b[a]];return d}function tb(e,a,b){var c=-1,d=pa(),f=e?e.length:0,m=!1;b=(0>b?K(0,f+b):b)||0;f&&"number"==typeof f?m=-1<(N(e)?e.indexOf(a,b):d(e,a,b)):w(e,function(e){if(++c>=b)return!(m=e===a)});return m}function ub(e,a,b){var c=!0;a=d.createCallback(a,b);if(s(e)){b=-1;for(var h=e.length;++b<h&&(c=!!a(e[b],b,e)););}else w(e,function(b,e,d){return c=!!a(b,e,d)});return c}function za(e,
a,b){var c=[];a=d.createCallback(a,b);if(s(e)){b=-1;for(var h=e.length;++b<h;){var f=e[b];a(f,b,e)&&c.push(f)}}else w(e,function(b,e,d){a(b,e,d)&&c.push(b)});return c}function Wa(e,a,b){a=d.createCallback(a,b);if(s(e)){b=-1;for(var c=e.length;++b<c;){var h=e[b];if(a(h,b,e))return h}}else{var f;w(e,function(b,c,e){if(a(b,c,e))return f=b,!1});return f}}function J(e,a,b){if(a&&"undefined"==typeof b&&s(e)){b=-1;for(var c=e.length;++b<c&&!1!==a(e[b],b,e););}else w(e,a,b);return e}function Xa(e,a,b){var c=
-1,h=e?e.length:0,f=A("number"==typeof h?h:0);a=d.createCallback(a,b);if(s(e))for(;++c<h;)f[c]=a(e[c],c,e);else w(e,function(b,e,d){f[++c]=a(b,e,d)});return f}function vb(e,a,b){var c=-Infinity,h=c;if(!a&&s(e)){b=-1;for(var f=e.length;++b<f;){var m=e[b];m>h&&(h=m)}}else a=!a&&N(e)?mb:d.createCallback(a,b),w(e,function(b,e,d){e=a(b,e,d);e>c&&(c=e,h=b)});return h}function Ya(e,a,b,c){var h=3>arguments.length;a=d.createCallback(a,c,4);if(s(e)){var f=-1,m=e.length;for(h&&(b=e[++f]);++f<m;)b=a(b,e[f],
f,e)}else w(e,function(c,e,d){b=h?(h=!1,c):a(b,c,e,d)});return b}function wb(e,a,b,c){var h=e,f=e?e.length:0,m=3>arguments.length;if("number"!=typeof f)var g=E(e),f=g.length;else n.unindexedChars&&N(e)&&(h=e.split(""));a=d.createCallback(a,c,4);J(e,function(c,e,d){e=g?g[--f]:--f;b=m?(m=!1,h[e]):a(b,h[e],e,d)});return b}function xb(e,a,b){var c;a=d.createCallback(a,b);if(s(e)){b=-1;for(var h=e.length;++b<h&&!(c=a(e[b],b,e)););}else w(e,function(b,e,d){return!(c=a(b,e,d))});return!!c}function yb(e){var a=
-1,b=pa(),c=e?e.length:0,d=ja.apply(y,x.call(arguments,1)),f=[],m=c>=Za&&b===Y;if(m){var g=Ma(d);g?(b=ta,d=g):m=!1}for(;++a<c;)g=e[a],0>b(d,g)&&f.push(g);m&&Q(d);return f}function $a(e,a,b){if(e){var c=0,h=e.length;if("number"!=typeof a&&null!=a){var f=-1;for(a=d.createCallback(a,b);++f<h&&a(e[f],f,e);)c++}else if(c=a,null==c||b)return e[0];return aa(e,0,Aa(K(0,c),h))}}function pb(e,a,b){if("number"==typeof b){var c=e?e.length:0;b=0>b?K(0,c+b):b||0}else if(b)return b=zb(e,a),e[b]===a?b:-1;return e?
Y(e,a,b):-1}function ab(e,a,b){if("number"!=typeof a&&null!=a){var c=0,h=-1,f=e?e.length:0;for(a=d.createCallback(a,b);++h<f&&a(e[h],h,e);)c++}else c=null==a||b?1:K(0,a);return aa(e,c)}function zb(e,a,b,c){var h=0,f=e?e.length:h;b=b?d.createCallback(b,c,1):bb;for(a=b(a);h<f;)c=h+f>>>1,b(e[c])<a?h=c+1:f=c;return h}function Ab(e){for(var a=-1,b=e?vb(cb(e,"length")):0,c=A(0>b?0:b);++a<b;)c[a]=cb(e,a);return c}function Bb(e,a){for(var b=-1,c=e?e.length:0,d={};++b<c;){var f=e[b];a?d[f]=a[b]:d[f[0]]=f[1]}return d}
function db(e,a){return n.fastBind||U&&2<arguments.length?U.call.apply(U,arguments):q(e,a,x.call(arguments,2))}function Cb(e,a,b){function c(){Ba(q);Ba(r);l=0;q=r=null}function d(){var a=s&&(!u||1<l);c();a&&(!1!==n&&(j=new Ca),g=e.apply(p,m))}function f(){c();if(s||n!==a)j=new Ca,g=e.apply(p,m)}var m,g,p,l=0,j=0,n=!1,q=null,r=null,s=!0;a=K(0,a||0);if(!0===b)var u=!0,s=!1;else C(b)&&(u=b.leading,n="maxWait"in b&&K(a,b.maxWait||0),s="trailing"in b?b.trailing:s);return function(){m=arguments;p=this;
l++;Ba(r);if(!1===n)u&&2>l&&(g=e.apply(p,m));else{var b=new Ca;!q&&!u&&(j=b);var c=n-(b-j);0>=c?(Ba(q),q=null,j=b,g=e.apply(p,m)):q||(q=Da(f,c))}a!==n&&(r=Da(d,a));return g}}function Db(e){var a=x.call(arguments,1);return Da(function(){e.apply(W,a)},1)}function bb(e){return e}function Eb(e){J(ya(e),function(a){var b=d[a]=e[a];d.prototype[a]=function(){var a=this.__wrapped__,e=[a];Ea.apply(e,arguments);e=b.apply(d,e);return a&&"object"==typeof a&&a===e?this:new j(e)}})}function Fb(){return this.__wrapped__}
g=g?V.defaults(X.Object(),g,V.pick(X,Wb)):X;var A=g.Array,La=g.Boolean,Ca=g.Date,wa=g.Function,ra=g.Math,Na=g.Number,P=g.Object,eb=g.RegExp,I=g.String,Sb=g.TypeError,y=[],Ra=g.Error.prototype,oa=P.prototype,Tb=I.prototype,Xb=g._,ka=eb("^"+I(oa.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Yb=ra.ceil,Ba=g.clearTimeout,ja=y.concat,Gb=ra.floor,Zb=wa.prototype.toString,la=ka.test(la=P.getPrototypeOf)&&la,u=oa.hasOwnProperty,Ea=y.push,fb=oa.propertyIsEnumerable,
Hb=g.setImmediate,Da=g.setTimeout,v=oa.toString,U=ka.test(U=v.bind)&&U,xa=ka.test(xa=P.create)&&xa,gb=ka.test(gb=A.isArray)&&gb,$b=g.isFinite,ac=g.isNaN,Fa=ka.test(Fa=P.keys)&&Fa,K=ra.max,Aa=ra.min,hb=g.parseInt,Ib=ra.random,x=y.slice,bc=ka.test(g.attachEvent),Jb=U&&!/\n|true/.test(U+bc),O={};O[ia]=A;O[ca]=La;O[da]=Ca;O[Ga]=wa;O[G]=P;O[ea]=Na;O[fa]=eb;O[R]=I;var z={};z[ia]=z[da]=z[ea]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0};z[ca]=z[R]={constructor:!0,toString:!0,valueOf:!0};z[nb]=
z[Ga]=z[fa]={constructor:!0,toString:!0};z[G]={constructor:!0};for(var Kb=Qa.length;Kb--;){var Lb=Qa[Kb],Ha;for(Ha in z)u.call(z,Ha)&&!u.call(z[Ha],Lb)&&(z[Ha][Lb]=!1)}j.prototype=d.prototype;var n=d.support={};(function(){var e=function(){this.x=1},a={"0":1,length:1},b=[];e.prototype={valueOf:1,y:1};for(var c in new e)b.push(c);for(c in arguments);n.argsObject=arguments.constructor==P&&!(arguments instanceof A);n.argsClass=F(arguments);n.enumErrorProps=fb.call(Ra,"message")||fb.call(Ra,"name");n.enumPrototypes=
fb.call(e,"prototype");n.fastBind=U&&!Jb;n.ownLast="x"!=b[0];n.nonEnumArgs=0!=c;n.nonEnumShadows=!/valueOf/.test(b);n.spliceObjects=(y.splice.call(a,0,1),!a[0]);n.unindexedChars="xx"!="x"[0]+P("x")[0];try{n.nodeClass=!(v.call(document)==G&&0)}catch(d){n.nodeClass=!0}})(1);d.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Mb,variable:"",imports:{_:d}};var ib={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",
loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},Ia={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : lodash.createCallback(callback, thisArg)",array:"typeof length == 'number'",loop:"if (callback(iterable[index], index, collection) === false) return result"},Nb={top:"if (!objectTypes[typeof iterable]) return result;\n"+Ia.top,array:!1};xa||(L=function(e){if(C(e)){Oa.prototype=e;var a=new Oa;
Oa.prototype=null}return a||{}});n.argsClass||(F=function(e){return e?u.call(e,"callee"):!1});var s=gb||function(e){return e?"object"==typeof e&&v.call(e)==ia:!1},Ob=r({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),E=!Fa?Ob:function(e){return!C(e)?[]:n.enumPrototypes&&"function"==typeof e||n.nonEnumArgs&&e.length&&F(e)?Ob(e):Fa(e)},w=r(Ia),ob={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ub=qb(ob),Ta=r(ib,{top:ib.top.replace(";",
";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = lodash.createCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),jb=r(ib),S=r(Ia,Nb,{useHas:!1}),T=r(Ia,Nb);D(/x/)&&(D=function(e){return"function"==typeof e&&v.call(e)==Ga});var Ua=!la?$:function(e){if(!(e&&
v.call(e)==G)||!n.argsClass&&F(e))return!1;var a=e.valueOf,b="function"==typeof a&&(b=la(a))&&la(b);return b?e==b||la(e)==b:$(e)},cb=Xa,cc=Z(function a(b,c,d){for(var f=-1,m=b?b.length:0,g=[];++f<m;){var p=b[f];d&&(p=d(p,f,b));s(p)?Ea.apply(g,c?p:a(p)):g.push(p)}return g}),kb=Z(function(a,b,c){var d=-1,f=pa(),m=a?a.length:0,g=[],p=!b&&m>=Za&&f===Y,l=c||p?M():g;if(p){var j=Ma(l);j?(f=ta,l=j):(p=!1,l=c?l:(B(l),g))}for(;++d<m;){var j=a[d],n=c?c(j,d,a):j;if(b?!d||l[l.length-1]!==n:0>f(l,n))(c||p)&&l.push(n),
g.push(j)}p?(B(l.array),Q(l)):c&&B(l);return g});Jb&&(lb&&"function"==typeof Hb)&&(Db=db(Hb,g));var ec=8==hb(Pb+"08")?hb:function(a,b){return hb(N(a)?a.replace(dc,""):a,b||0)};d.after=function(a,b){return 1>a?b():function(){if(1>--a)return b.apply(this,arguments)}};d.assign=Ta;d.at=function(a){var b=-1,c=ja.apply(y,x.call(arguments,1)),d=c.length,f=A(d);for(n.unindexedChars&&N(a)&&(a=a.split(""));++b<d;)f[b]=a[c[b]];return f};d.bind=db;d.bindAll=function(a){for(var b=1<arguments.length?ja.apply(y,
x.call(arguments,1)):ya(a),c=-1,d=b.length;++c<d;){var f=b[c];a[f]=db(a[f],a)}return a};d.bindKey=function(a,b){return q(a,b,x.call(arguments,2),ha)};d.compact=function(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var f=a[b];f&&d.push(f)}return d};d.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}};d.countBy=function(a,b,c){var h={};b=d.createCallback(b,c);J(a,function(a,c,d){c=I(b(a,c,d));u.call(h,c)?h[c]++:h[c]=1});return h};
d.createCallback=function(a,b,c){if(null==a)return bb;var d=typeof a;if("function"!=d){if("object"!=d)return function(b){return b[a]};var f=E(a);return function(b){for(var c=f.length,d=!1;c--&&(d=ga(b[f[c]],a[f[c]],ha)););return d}}return"undefined"==typeof b||sa&&!sa.test(Zb.call(a))?a:1===c?function(c){return a.call(b,c)}:2===c?function(c,d){return a.call(b,c,d)}:4===c?function(c,d,h,f){return a.call(b,c,d,h,f)}:function(c,d,h){return a.call(b,c,d,h)}};d.debounce=Cb;d.defaults=jb;d.defer=Db;d.delay=
function(a,b){var c=x.call(arguments,2);return Da(function(){a.apply(W,c)},b)};d.difference=yb;d.filter=za;d.flatten=cc;d.forEach=J;d.forIn=S;d.forOwn=T;d.functions=ya;d.groupBy=function(a,b,c){var h={};b=d.createCallback(b,c);J(a,function(a,c,d){c=I(b(a,c,d));(u.call(h,c)?h[c]:h[c]=[]).push(a)});return h};d.initial=function(a,b,c){if(!a)return[];var h=0,f=a.length;if("number"!=typeof b&&null!=b){var g=f;for(b=d.createCallback(b,c);g--&&b(a[g],g,a);)h++}else h=null==b||c?1:b||h;return aa(a,0,Aa(K(0,
f-h),f))};d.intersection=function(a){for(var b=arguments,c=b.length,d=-1,f=M(),g=-1,j=pa(),p=a?a.length:0,l=[],n=M();++d<c;){var q=b[d];f[d]=j===Y&&(q?q.length:0)>=Za&&Ma(d?b[d]:n)}a:for(;++g<p;){var r=f[0],q=a[g];if(0>(r?ta(r,q):j(n,q))){d=c;for((r||n).push(q);--d;)if(r=f[d],0>(r?ta(r,q):j(b[d],q)))continue a;l.push(q)}}for(;c--;)(r=f[c])&&Q(r);B(f);B(n);return l};d.invert=qb;d.invoke=function(a,b){var c=x.call(arguments,2),d=-1,f="function"==typeof b,g=a?a.length:0,j=A("number"==typeof g?g:0);J(a,
function(a){j[++d]=(f?b:a[b]).apply(a,c)});return j};d.keys=E;d.map=Xa;d.max=vb;d.memoize=function(a,b){function c(){var d=c.cache,f=Ka+(b?b.apply(this,arguments):arguments[0]);return u.call(d,f)?d[f]:d[f]=a.apply(this,arguments)}c.cache={};return c};d.merge=sb;d.min=function(a,b,c){var h=Infinity,f=h;if(!b&&s(a)){c=-1;for(var g=a.length;++c<g;){var j=a[c];j<f&&(f=j)}}else b=!b&&N(a)?mb:d.createCallback(b,c),w(a,function(a,c,d){c=b(a,c,d);c<h&&(h=c,f=a)});return f};d.omit=function(a,b,c){var h=pa(),
f="function"==typeof b,g={};if(f)b=d.createCallback(b,c);else var j=ja.apply(y,x.call(arguments,1));S(a,function(a,c,d){if(f?!b(a,c,d):0>h(j,c))g[c]=a});return g};d.once=function(a){var b,c;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};d.pairs=function(a){for(var b=-1,c=E(a),d=c.length,f=A(d);++b<d;){var g=c[b];f[b]=[g,a[g]]}return f};d.partial=function(a){return q(a,x.call(arguments,1))};d.partialRight=function(a){return q(a,x.call(arguments,1),null,ha)};d.pick=
function(a,b,c){var h={};if("function"!=typeof b)for(var f=-1,g=ja.apply(y,x.call(arguments,1)),j=C(a)?g.length:0;++f<j;){var p=g[f];p in a&&(h[p]=a[p])}else b=d.createCallback(b,c),S(a,function(a,c,d){b(a,c,d)&&(h[c]=a)});return h};d.pluck=cb;d.range=function(a,b,c){a=+a||0;c=+c||1;null==b&&(b=a,a=0);var d=-1;b=K(0,Yb((b-a)/c));for(var f=A(b);++d<b;)f[d]=a,a+=c;return f};d.reject=function(a,b,c){b=d.createCallback(b,c);return za(a,function(a,c,d){return!b(a,c,d)})};d.rest=ab;d.shuffle=function(a){var b=
-1,c=a?a.length:0,d=A("number"==typeof c?c:0);J(a,function(a){var c=Gb(Ib()*(++b+1));d[b]=d[c];d[c]=a});return d};d.sortBy=function(a,b,c){var h=-1,f=a?a.length:0,g=A("number"==typeof f?f:0);b=d.createCallback(b,c);J(a,function(a,c,d){var f=g[++h]=na();f.criteria=b(a,c,d);f.index=h;f.value=a});f=g.length;for(g.sort(Qb);f--;)a=g[f],g[f]=a.value,Q(a);return g};d.tap=function(a,b){b(a);return a};d.throttle=function(a,b,c){var d=!0,f=!0;!1===c?d=!1:C(c)&&(d="leading"in c?c.leading:d,f="trailing"in c?
c.trailing:f);c=na();c.leading=d;c.maxWait=b;c.trailing=f;a=Cb(a,b,c);Q(c);return a};d.times=function(a,b,c){a=-1<(a=+a)?a:0;var h=-1,f=A(a);for(b=d.createCallback(b,c,1);++h<a;)f[h]=b(h);return f};d.toArray=function(a){return a&&"number"==typeof a.length?n.unindexedChars&&N(a)?a.split(""):aa(a):Va(a)};d.transform=function(a,b,c,h){var f=s(a);b=d.createCallback(b,h,4);null==c&&(f?c=[]:(h=a&&a.constructor,c=L(h&&h.prototype)));(f?w:T)(a,function(a,d,f){return b(c,a,d,f)});return c};d.union=function(a){s(a)||
(arguments[0]=a?x.call(a):y);return kb(ja.apply(y,arguments))};d.uniq=kb;d.unzip=Ab;d.values=Va;d.where=za;d.without=function(a){return yb(a,x.call(arguments,1))};d.wrap=function(a,b){return function(){var c=[a];Ea.apply(c,arguments);return b.apply(this,c)}};d.zip=function(a){return a?Ab(arguments):[]};d.zipObject=Bb;d.collect=Xa;d.drop=ab;d.each=J;d.extend=Ta;d.methods=ya;d.object=Bb;d.select=za;d.tail=ab;d.unique=kb;Eb(d);d.chain=d;d.prototype.chain=function(){return this};d.clone=Sa;d.cloneDeep=
function(a,b,c){return Sa(a,!0,b,c)};d.contains=tb;d.escape=function(a){return null==a?"":I(a).replace(fc,ma)};d.every=ub;d.find=Wa;d.findIndex=function(a,b,c){var h=-1,f=a?a.length:0;for(b=d.createCallback(b,c);++h<f;)if(b(a[h],h,a))return h;return-1};d.findKey=function(a,b,c){var h;b=d.createCallback(b,c);T(a,function(a,c,d){if(b(a,c,d))return h=c,!1});return h};d.has=function(a,b){return a?u.call(a,b):!1};d.identity=bb;d.indexOf=pb;d.isArguments=F;d.isArray=s;d.isBoolean=function(a){return!0===
a||!1===a||v.call(a)==ca};d.isDate=function(a){return a?"object"==typeof a&&v.call(a)==da:!1};d.isElement=function(a){return a?1===a.nodeType:!1};d.isEmpty=function(a){var b=!0;if(!a)return b;var c=v.call(a),d=a.length;if(c==ia||(c==R||(n.argsClass?c==qa:F(a)))||c==G&&"number"==typeof d&&D(a.splice))return!d;T(a,function(){return b=!1});return b};d.isEqual=ga;d.isFinite=function(a){return $b(a)&&!ac(parseFloat(a))};d.isFunction=D;d.isNaN=function(a){return rb(a)&&a!=+a};d.isNull=function(a){return null===
a};d.isNumber=rb;d.isObject=C;d.isPlainObject=Ua;d.isRegExp=function(a){return!(!a||!ba[typeof a])&&v.call(a)==fa};d.isString=N;d.isUndefined=function(a){return"undefined"==typeof a};d.lastIndexOf=function(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=(0>c?K(0,d+c):Aa(c,d-1))+1);d--;)if(a[d]===b)return d;return-1};d.mixin=Eb;d.noConflict=function(){g._=Xb;return this};d.parseInt=ec;d.random=function(a,b){null==a&&null==b&&(b=1);a=+a||0;null==b?(b=a,a=0):b=+b||0;var c=Ib();return a%1||b%1?a+
Aa(c*(b-a+parseFloat("1e-"+((c+"").length-1))),b):a+Gb(c*(b-a+1))};d.reduce=Ya;d.reduceRight=wb;d.result=function(a,b){var c=a?a[b]:W;return D(c)?a[b]():c};d.runInContext=Pa;d.size=function(a){var b=a?a.length:0;return"number"==typeof b?b:E(a).length};d.some=xb;d.sortedIndex=zb;d.template=function(a,b,c){var g=d.templateSettings;a||(a="");c=jb({},c,g);var f=jb({},c.imports,g.imports),g=E(f),f=Va(f),j,n=0,p=c.interpolate||Ja,l="__p += '",p=eb((c.escape||Ja).source+"|"+p.source+"|"+(p===Mb?gc:Ja).source+
"|"+(c.evaluate||Ja).source+"|$","g");a.replace(p,function(b,c,d,f,g,h){d||(d=f);l+=a.slice(n,h).replace(hc,Rb);c&&(l+="' +\n__e("+c+") +\n'");g&&(j=!0,l+="';\n"+g+";\n__p += '");d&&(l+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'");n=h+b.length;return b});var l=l+"';\n",q=p=c.variable;q||(p="obj",l="with ("+p+") {\n"+l+"\n}\n");l=(j?l.replace(ic,""):l).replace(jc,"$1").replace(kc,"$1;");l="function("+p+") {\n"+(q?"":p+" || ("+p+" = {});\n")+"var __t, __p = '', __e = _.escape"+(j?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":
";\n")+l+"return __p\n}";c="\n/*\n//@ sourceURL="+(c.sourceURL||"/lodash/template/source["+lc++ +"]")+"\n*/";try{var r=wa(g,"return "+l+c).apply(W,f)}catch(s){throw s.source=l,s;}if(b)return r(b);r.source=l;return r};d.unescape=function(a){return null==a?"":I(a).replace(mc,va)};d.uniqueId=function(a){var b=++nc;return I(null==a?"":a)+b};d.all=ub;d.any=xb;d.detect=Wa;d.findWhere=Wa;d.foldl=Ya;d.foldr=wb;d.include=tb;d.inject=Ya;T(d,function(a,b){d.prototype[b]||(d.prototype[b]=function(){var b=[this.__wrapped__];
Ea.apply(b,arguments);return a.apply(d,b)})});d.first=$a;d.last=function(a,b,c){if(a){var g=0,f=a.length;if("number"!=typeof b&&null!=b){var j=f;for(b=d.createCallback(b,c);j--&&b(a[j],j,a);)g++}else if(g=b,null==g||c)return a[f-1];return aa(a,K(0,f-g))}};d.take=$a;d.head=$a;T(d,function(a,b){d.prototype[b]||(d.prototype[b]=function(b,d){var f=a(this.__wrapped__,b,d);return null==b||d&&"function"!=typeof b?f:new j(f)})});d.VERSION="1.3.1";d.prototype.toString=function(){return I(this.__wrapped__)};
d.prototype.value=Fb;d.prototype.valueOf=Fb;w(["join","pop","shift"],function(a){var b=y[a];d.prototype[a]=function(){return b.apply(this.__wrapped__,arguments)}});w(["push","reverse","sort","unshift"],function(a){var b=y[a];d.prototype[a]=function(){b.apply(this.__wrapped__,arguments);return this}});w(["concat","slice","splice"],function(a){var b=y[a];d.prototype[a]=function(){return new j(b.apply(this.__wrapped__,arguments))}});n.spliceObjects||w(["pop","shift","splice"],function(a){var b=y[a],
c="splice"==a;d.prototype[a]=function(){var a=this.__wrapped__,d=b.apply(a,arguments);0===a.length&&delete a[0];return c?new j(d):d}});return d}var W,Z=[],$=[],nc=0,ha={},Ka=+new Date+"",Za=75,va=40,ic=/\b__p \+= '';/g,jc=/\b(__p \+=) '' \+/g,kc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,mc=/&(?:amp|lt|gt|quot|#39);/g,gc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vb=/\w*$/,Mb=/<%=([\s\S]+?)%>/g,sa=(sa=/\bthis\b/)&&sa.test(Pa)&&sa,Pb=" \t\x0B\f\u00a0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",
dc=RegExp("^["+Pb+"]*0+(?=.$)"),Ja=/($^)/,fc=/[&<>"']/g,hc=/['\n\r\t\u2028\u2029\\]/g,Wb="Array Boolean Date Error Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setImmediate setTimeout".split(" "),Qa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),lc=0,qa="[object Arguments]",ia="[object Array]",ca="[object Boolean]",da="[object Date]",nb="[object Error]",Ga="[object Function]",ea="[object Number]",
G="[object Object]",fa="[object RegExp]",R="[object String]",H={};H[Ga]=!1;H[qa]=H[ia]=H[ca]=H[da]=H[ea]=H[G]=H[fa]=H[R]=!0;var ba={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Na={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},ma=ba[typeof exports]&&exports,lb=ba[typeof module]&&module&&module.exports==ma&&module,L=ba[typeof global]&&global;if(L&&(L.global===L||L.window===L))X=L;var V=Pa();"function"==typeof define&&"object"==typeof define.amd&&
define.amd?(X._=V,define(function(){return V})):ma&&!ma.nodeType?lb?(lb.exports=V)._=V:ma._=V:X._=V})(this);
/* Modernizr 2.6.2 (Custom Build) | MIT & BSD
 * Build: http://modernizr.com/download/#-csstransforms-csstransforms3d-csstransitions-localstorage-postmessage-shiv-cssclasses-teststyles-testprop-testallprops-prefixes-domprefixes-load
 */
;window.Modernizr=function(a,b,c){function z(a){j.cssText=a}function A(a,b){return z(m.join(a+";")+(b||""))}function B(a,b){return typeof a===b}function C(a,b){return!!~(""+a).indexOf(b)}function D(a,b){for(var d in a){var e=a[d];if(!C(e,"-")&&j[e]!==c)return b=="pfx"?e:!0}return!1}function E(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:B(f,"function")?f.bind(d||b):f}return!1}function F(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+o.join(d+" ")+d).split(" ");return B(b,"string")||B(b,"undefined")?D(e,b):(e=(a+" "+p.join(d+" ")+d).split(" "),E(e,b,c))}var d="2.6.2",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k,l={}.toString,m=" -webkit- -moz- -o- -ms- ".split(" "),n="Webkit Moz O ms",o=n.split(" "),p=n.toLowerCase().split(" "),q={},r={},s={},t=[],u=t.slice,v,w=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},x={}.hasOwnProperty,y;!B(x,"undefined")&&!B(x.call,"undefined")?y=function(a,b){return x.call(a,b)}:y=function(a,b){return b in a&&B(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=u.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(u.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(u.call(arguments)))};return e}),q.postmessage=function(){return!!a.postMessage},q.csstransforms=function(){return!!F("transform")},q.csstransforms3d=function(){var a=!!F("perspective");return a&&"webkitPerspective"in g.style&&w("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=b.offsetLeft===9&&b.offsetHeight===3}),a},q.csstransitions=function(){return F("transition")},q.localstorage=function(){try{return localStorage.setItem(h,h),localStorage.removeItem(h),!0}catch(a){return!1}};for(var G in q)y(q,G)&&(v=G.toLowerCase(),e[v]=q[G](),t.push((e[v]?"":"no-")+v));return e.addTest=function(a,b){if(typeof a=="object")for(var d in a)y(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},z(""),i=k=null,function(a,b){function k(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function l(){var a=r.elements;return typeof a=="string"?a.split(" "):a}function m(a){var b=i[a[g]];return b||(b={},h++,a[g]=h,i[h]=b),b}function n(a,c,f){c||(c=b);if(j)return c.createElement(a);f||(f=m(c));var g;return f.cache[a]?g=f.cache[a].cloneNode():e.test(a)?g=(f.cache[a]=f.createElem(a)).cloneNode():g=f.createElem(a),g.canHaveChildren&&!d.test(a)?f.frag.appendChild(g):g}function o(a,c){a||(a=b);if(j)return a.createDocumentFragment();c=c||m(a);var d=c.frag.cloneNode(),e=0,f=l(),g=f.length;for(;e<g;e++)d.createElement(f[e]);return d}function p(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return r.shivMethods?n(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+l().join().replace(/\w+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(r,b.frag)}function q(a){a||(a=b);var c=m(a);return r.shivCSS&&!f&&!c.hasCSS&&(c.hasCSS=!!k(a,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),j||p(a,c),a}var c=a.html5||{},d=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,e=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f,g="_html5shiv",h=0,i={},j;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",f="hidden"in a,j=a.childNodes.length==1||function(){b.createElement("a");var a=b.createDocumentFragment();return typeof a.cloneNode=="undefined"||typeof a.createDocumentFragment=="undefined"||typeof a.createElement=="undefined"}()}catch(c){f=!0,j=!0}})();var r={elements:c.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:c.shivCSS!==!1,supportsUnknownElements:j,shivMethods:c.shivMethods!==!1,type:"default",shivDocument:q,createElement:n,createDocumentFragment:o};a.html5=r,q(b)}(this,b),e._version=d,e._prefixes=m,e._domPrefixes=p,e._cssomPrefixes=o,e.testProp=function(a){return D([a])},e.testAllProps=F,e.testStyles=w,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+t.join(" "):""),e}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==o.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=p.shift();q=1,a?a.t?m(function(){("c"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l=b.createElement(a),o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};1===y[c]&&(r=1,y[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),"img"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i("c"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&"[object Opera]"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return"[object Array]"==o.call(a)},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},A,B;B=function(a){function b(a){var a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement("script"),l,o,e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement("link"),j,c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};var Handlebars={};
(function(e,m){e.VERSION="1.0.0";e.COMPILER_REVISION=4;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};e.helpers={};e.partials={};var q=Object.prototype.toString;e.registerHelper=function(a,b,c){if("[object Object]"===q.call(a)){if(c||b)throw new e.Exception("Arg not supported with multiple helpers");e.Utils.extend(this.helpers,a)}else c&&(b.not=c),this.helpers[a]=b};e.registerPartial=function(a,b){"[object Object]"===q.call(a)?e.Utils.extend(this.partials,a):
this.partials[a]=b};e.registerHelper("helperMissing",function(a){if(2===arguments.length)return m;throw Error("Missing helper: '"+a+"'");});e.registerHelper("blockHelperMissing",function(a,b){var c=b.inverse||function(){},d=b.fn,h=q.call(a);"[object Function]"===h&&(a=a.call(this));return!0===a?d(this):!1===a||null==a?c(this):"[object Array]"===h?0<a.length?e.helpers.each(a,b):c(this):d(a)});e.K=function(){};e.createFrame=Object.create||function(a){e.K.prototype=a;a=new e.K;e.K.prototype=null;return a};
e.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{"0":"debug",1:"info",2:"warn",3:"error"},log:function(a,b){if(e.logger.level<=a){var c=e.logger.methodMap[a];"undefined"!==typeof console&&console[c]&&console[c].call(console,b)}}};e.log=function(a,b){e.logger.log(a,b)};e.registerHelper("each",function(a,b){var c=b.fn,d=b.inverse,h=0,f="",g;"[object Function]"===q.call(a)&&(a=a.call(this));b.data&&(g=e.createFrame(b.data));if(a&&"object"===typeof a)if(a instanceof Array)for(var j=a.length;h<
j;h++)g&&(g.index=h),f+=c(a[h],{data:g});else for(j in a)a.hasOwnProperty(j)&&(g&&(g.key=j),f+=c(a[j],{data:g}),h++);0===h&&(f=d(this));return f});e.registerHelper("if",function(a,b){"[object Function]"===q.call(a)&&(a=a.call(this));return!a||e.Utils.isEmpty(a)?b.inverse(this):b.fn(this)});e.registerHelper("unless",function(a,b){return e.helpers["if"].call(this,a,{fn:b.inverse,inverse:b.fn})});e.registerHelper("with",function(a,b){"[object Function]"===q.call(a)&&(a=a.call(this));if(!e.Utils.isEmpty(a))return b.fn(a)});
e.registerHelper("log",function(a,b){var c=b.data&&null!=b.data.level?parseInt(b.data.level,10):1;e.log(c,a)});var n;n=function(){this.yy={}};var u={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,params:27,
hash:28,dataName:29,param:30,STRING:31,INTEGER:32,BOOLEAN:33,hashSegments:34,hashSegment:35,ID:36,EQUALS:37,DATA:38,pathSegments:39,SEP:40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",31:"STRING",32:"INTEGER",33:"BOOLEAN",36:"ID",37:"EQUALS",38:"DATA",40:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,
3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[27,2],[27,1],[30,1],[30,1],[30,1],[30,1],[30,1],[28,1],[34,2],[34,1],[35,3],[35,3],[35,3],[35,3],[35,3],[26,1],[26,1],[26,1],[29,2],[21,1],[39,3],[39,1]],performAction:function(a,b,c,d,e,f){a=f.length-1;switch(e){case 1:return f[a-1];case 2:this.$=new d.ProgramNode([],f[a]);break;case 3:this.$=new d.ProgramNode(f[a-2],f[a]);break;case 4:this.$=new d.ProgramNode(f[a-1],[]);break;case 5:this.$=
new d.ProgramNode(f[a]);break;case 6:this.$=new d.ProgramNode([],[]);break;case 7:this.$=new d.ProgramNode([]);break;case 8:this.$=[f[a]];break;case 9:f[a-1].push(f[a]);this.$=f[a-1];break;case 10:this.$=new d.BlockNode(f[a-2],f[a-1].inverse,f[a-1],f[a]);break;case 11:this.$=new d.BlockNode(f[a-2],f[a-1],f[a-1].inverse,f[a]);break;case 12:this.$=f[a];break;case 13:this.$=f[a];break;case 14:this.$=new d.ContentNode(f[a]);break;case 15:this.$=new d.CommentNode(f[a]);break;case 16:this.$=new d.MustacheNode(f[a-
1][0],f[a-1][1]);break;case 17:this.$=new d.MustacheNode(f[a-1][0],f[a-1][1]);break;case 18:this.$=f[a-1];break;case 19:this.$=new d.MustacheNode(f[a-1][0],f[a-1][1],"&"===f[a-2][2]);break;case 20:this.$=new d.MustacheNode(f[a-1][0],f[a-1][1],!0);break;case 21:this.$=new d.PartialNode(f[a-1]);break;case 22:this.$=new d.PartialNode(f[a-2],f[a-1]);break;case 24:this.$=[[f[a-2]].concat(f[a-1]),f[a]];break;case 25:this.$=[[f[a-1]].concat(f[a]),null];break;case 26:this.$=[[f[a-1]],f[a]];break;case 27:this.$=
[[f[a]],null];break;case 28:this.$=[[f[a]],null];break;case 29:f[a-1].push(f[a]);this.$=f[a-1];break;case 30:this.$=[f[a]];break;case 31:this.$=f[a];break;case 32:this.$=new d.StringNode(f[a]);break;case 33:this.$=new d.IntegerNode(f[a]);break;case 34:this.$=new d.BooleanNode(f[a]);break;case 35:this.$=f[a];break;case 36:this.$=new d.HashNode(f[a]);break;case 37:f[a-1].push(f[a]);this.$=f[a-1];break;case 38:this.$=[f[a]];break;case 39:this.$=[f[a-2],f[a]];break;case 40:this.$=[f[a-2],new d.StringNode(f[a])];
break;case 41:this.$=[f[a-2],new d.IntegerNode(f[a])];break;case 42:this.$=[f[a-2],new d.BooleanNode(f[a])];break;case 43:this.$=[f[a-2],f[a]];break;case 44:this.$=new d.PartialNameNode(f[a]);break;case 45:this.$=new d.PartialNameNode(new d.StringNode(f[a]));break;case 46:this.$=new d.PartialNameNode(new d.IntegerNode(f[a]));break;case 47:this.$=new d.DataNode(f[a]);break;case 48:this.$=new d.IdNode(f[a]);break;case 49:f[a-2].push({part:f[a],separator:f[a-1]});this.$=f[a-2];break;case 50:this.$=[{part:f[a]}]}},
table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],25:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],25:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],25:[1,16]},{17:23,18:[1,22],21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,
8],25:[2,8]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{4:30,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,
14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{17:31,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:32,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:33,21:24,29:25,36:[1,28],38:[1,27],39:26},{21:35,26:34,31:[1,36],32:[1,37],36:[1,28],39:26},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],25:[1,16]},{17:23,21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,4],7:38,8:6,9:7,11:8,12:9,13:10,
14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],25:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{18:[1,39]},{18:[2,27],21:44,24:[2,27],27:40,28:41,29:48,30:42,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,28],24:[2,28]},{18:[2,48],24:[2,48],31:[2,48],32:[2,48],33:[2,48],36:[2,48],38:[2,48],40:[1,51]},{21:52,36:[1,
28],39:26},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],38:[2,50],40:[2,50]},{10:53,20:[1,54]},{10:55,20:[1,54]},{18:[1,56]},{18:[1,57]},{24:[1,58]},{18:[1,59],21:60,36:[1,28],39:26},{18:[2,44],36:[2,44]},{18:[2,45],36:[2,45]},{18:[2,46],36:[2,46]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],25:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{18:[2,25],21:44,24:[2,25],28:61,29:48,30:62,
31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,26],24:[2,26]},{18:[2,30],24:[2,30],31:[2,30],32:[2,30],33:[2,30],36:[2,30],38:[2,30]},{18:[2,36],24:[2,36],35:63,36:[1,64]},{18:[2,31],24:[2,31],31:[2,31],32:[2,31],33:[2,31],36:[2,31],38:[2,31]},{18:[2,32],24:[2,32],31:[2,32],32:[2,32],33:[2,32],36:[2,32],38:[2,32]},{18:[2,33],24:[2,33],31:[2,33],32:[2,33],33:[2,33],36:[2,33],38:[2,33]},{18:[2,34],24:[2,34],31:[2,34],32:[2,34],33:[2,34],36:[2,34],38:[2,34]},{18:[2,35],24:[2,
35],31:[2,35],32:[2,35],33:[2,35],36:[2,35],38:[2,35]},{18:[2,38],24:[2,38],36:[2,38]},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],37:[1,65],38:[2,50],40:[2,50]},{36:[1,66]},{18:[2,47],24:[2,47],31:[2,47],32:[2,47],33:[2,47],36:[2,47],38:[2,47]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{21:67,36:[1,28],39:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,
16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,68]},{18:[2,24],24:[2,24]},{18:[2,29],24:[2,29],31:[2,29],32:[2,29],33:[2,29],36:[2,29],38:[2,29]},{18:[2,37],24:[2,37],36:[2,37]},{37:[1,65]},{21:69,29:73,31:[1,70],32:[1,71],
33:[1,72],36:[1,28],38:[1,27],39:26},{18:[2,49],24:[2,49],31:[2,49],32:[2,49],33:[2,49],36:[2,49],38:[2,49],40:[2,49]},{18:[1,74]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{18:[2,39],24:[2,39],36:[2,39]},{18:[2,40],24:[2,40],36:[2,40]},{18:[2,41],24:[2,41],36:[2,41]},{18:[2,42],24:[2,42],36:[2,42]},{18:[2,43],24:[2,43],36:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]}],defaultActions:{17:[2,1]},parseError:function(a){throw Error(a);
},parse:function(a){var b=[0],c=[null],d=[],e=this.table,f="",g=0,j=0,n=0;this.lexer.setInput(a);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});a=this.lexer.yylloc;d.push(a);var s=this.lexer.options&&this.lexer.options.ranges;"function"===typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var k,q,r,l,m={},t,p;;){r=b[b.length-1];if(this.defaultActions[r])l=this.defaultActions[r];else{if(null===k||"undefined"==
typeof k)k=void 0,k=this.lexer.lex()||1,"number"!==typeof k&&(k=this.symbols_[k]||k);l=e[r]&&e[r][k]}if("undefined"===typeof l||!l.length||!l[0]){var u="";if(!n){p=[];for(t in e[r])this.terminals_[t]&&2<t&&p.push("'"+this.terminals_[t]+"'");u=this.lexer.showPosition?"Parse error on line "+(g+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+p.join(", ")+", got '"+(this.terminals_[k]||k)+"'":"Parse error on line "+(g+1)+": Unexpected "+(1==k?"end of input":"'"+(this.terminals_[k]||k)+"'");this.parseError(u,
{text:this.lexer.match,token:this.terminals_[k]||k,line:this.lexer.yylineno,loc:a,expected:p})}}if(l[0]instanceof Array&&1<l.length)throw Error("Parse Error: multiple actions possible at state: "+r+", token: "+k);switch(l[0]){case 1:b.push(k);c.push(this.lexer.yytext);d.push(this.lexer.yylloc);b.push(l[1]);k=null;q?(k=q,q=null):(j=this.lexer.yyleng,f=this.lexer.yytext,g=this.lexer.yylineno,a=this.lexer.yylloc,0<n&&n--);break;case 2:p=this.productions_[l[1]][1];m.$=c[c.length-p];m._$={first_line:d[d.length-
(p||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(p||1)].first_column,last_column:d[d.length-1].last_column};s&&(m._$.range=[d[d.length-(p||1)].range[0],d[d.length-1].range[1]]);r=this.performAction.call(m,f,j,g,this.yy,l[1],c,d);if("undefined"!==typeof r)return r;p&&(b=b.slice(0,-2*p),c=c.slice(0,-1*p),d=d.slice(0,-1*p));b.push(this.productions_[l[1]][0]);c.push(m.$);d.push(m._$);l=e[b[b.length-2]][b[b.length-1]];b.push(l);break;case 3:return!0}}return!0},lexer:{EOF:1,
parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a){this._input=a;this._more=this._less=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;
this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b-1);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);
c.length-1&&(this.yylineno-=c.length-1);var d=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-b]);return this},more:function(){this._more=!0;return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=
this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c;this._more||(this.match=
this.yytext="");for(var d=this._currentRules(),e=0;e<d.length;e++)if((b=this._input.match(this.rules[d[e]]))&&(!a||b[0].length>a[0].length))if(a=b,c=e,!this.options.flex)break;if(a){if(b=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=b.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:b?b[b.length-1].length-b[b.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=
a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];a=this.performAction.call(this,this.yy,this,d[c],this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(a)return a}else return""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,
line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!==typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)},options:{},performAction:function(a,b,c){switch(c){case 0:return b.yytext="\\",14;
case 1:"\\"!==b.yytext.slice(-1)&&this.begin("mu");"\\"===b.yytext.slice(-1)&&(b.yytext=b.yytext.substr(0,b.yyleng-1),this.begin("emu"));if(b.yytext)return 14;break;case 2:return 14;case 3:return"\\"!==b.yytext.slice(-1)&&this.popState(),"\\"===b.yytext.slice(-1)&&(b.yytext=b.yytext.substr(0,b.yyleng-1)),14;case 4:return b.yytext=b.yytext.substr(0,b.yyleng-4),this.popState(),15;case 5:return 25;case 6:return 16;case 7:return 20;case 8:return 19;case 9:return 19;case 10:return 23;case 11:return 22;
case 12:this.popState();this.begin("com");break;case 13:return b.yytext=b.yytext.substr(3,b.yyleng-5),this.popState(),15;case 14:return 22;case 15:return 37;case 16:return 36;case 17:return 36;case 18:return 40;case 20:return this.popState(),24;case 21:return this.popState(),18;case 22:return b.yytext=b.yytext.substr(1,b.yyleng-2).replace(/\\"/g,'"'),31;case 23:return b.yytext=b.yytext.substr(1,b.yyleng-2).replace(/\\'/g,"'"),31;case 24:return 38;case 25:return 33;case 26:return 33;case 27:return 32;
case 28:return 36;case 29:return b.yytext=b.yytext.substr(1,b.yyleng-2),36;case 30:return"INVALID";case 31:return 5}},rules:[/^(?:\\\\(?=(\{\{)))/,/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[}\/ ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,
/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],inclusive:!1},emu:{rules:[3],inclusive:!1},com:{rules:[4],inclusive:!1},INITIAL:{rules:[0,1,2,31],inclusive:!0}}}};n.prototype=u;u.Parser=n;n=new n;e.Parser=n;e.parse=function(a){if(a.constructor===e.AST.ProgramNode)return a;
e.Parser.yy=e.AST;return e.Parser.parse(a)};e.AST={};e.AST.ProgramNode=function(a,b){this.type="program";this.statements=a;b&&(this.inverse=new e.AST.ProgramNode(b))};e.AST.MustacheNode=function(a,b,c){this.type="mustache";this.escaped=!c;this.hash=b;c=this.id=a[0];a=this.params=a.slice(1);this.isHelper=(this.eligibleHelper=c.isSimple)&&(a.length||b)};e.AST.PartialNode=function(a,b){this.type="partial";this.partialName=a;this.context=b};e.AST.BlockNode=function(a,b,c,d){var h=a.id;if(h.original!==
d.original)throw new e.Exception(h.original+" doesn't match "+d.original);this.type="block";this.mustache=a;this.program=b;if((this.inverse=c)&&!this.program)this.isInverse=!0};e.AST.ContentNode=function(a){this.type="content";this.string=a};e.AST.HashNode=function(a){this.type="hash";this.pairs=a};e.AST.IdNode=function(a){this.type="ID";for(var b="",c=[],d=0,h=0,f=a.length;h<f;h++){var g=a[h].part,b=b+((a[h].separator||"")+g);if(".."===g||"."===g||"this"===g){if(0<c.length)throw new e.Exception("Invalid path: "+
b);".."===g?d++:this.isScoped=!0}else c.push(g)}this.original=b;this.parts=c;this.string=c.join(".");this.depth=d;this.isSimple=1===a.length&&!this.isScoped&&0===d;this.stringModeValue=this.string};e.AST.PartialNameNode=function(a){this.type="PARTIAL_NAME";this.name=a.original};e.AST.DataNode=function(a){this.type="DATA";this.id=a};e.AST.StringNode=function(a){this.type="STRING";this.original=this.string=this.stringModeValue=a};e.AST.IntegerNode=function(a){this.type="INTEGER";this.original=this.integer=
a;this.stringModeValue=Number(a)};e.AST.BooleanNode=function(a){this.type="BOOLEAN";this.bool=a;this.stringModeValue="true"===a};e.AST.CommentNode=function(a){this.type="comment";this.comment=a};var w="description fileName lineNumber message name number stack".split(" ");e.Exception=function(a){for(var b=Error.prototype.constructor.apply(this,arguments),c=0;c<w.length;c++)this[w[c]]=b[w[c]]};e.Exception.prototype=Error();e.SafeString=function(a){this.string=a};e.SafeString.prototype.toString=function(){return this.string.toString()};
var z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},A=/[&<>"'`]/g,B=/[&<>"'`]/,C=function(a){return z[a]||"&amp;"};e.Utils={extend:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])},escapeExpression:function(a){if(a instanceof e.SafeString)return a.toString();if(null==a||!1===a)return"";a=a.toString();return!B.test(a)?a:a.replace(A,C)},isEmpty:function(a){return!a&&0!==a?!0:"[object Array]"===q.call(a)&&0===a.length?!0:!1}};var v=e.Compiler=function(){},s=
e.JavaScriptCompiler=function(){};v.prototype={compiler:v,disassemble:function(){for(var a=this.opcodes,b,c=[],d,e,f=0,g=a.length;f<g;f++)if(b=a[f],"DECLARE"===b.opcode)c.push("DECLARE "+b.name+"="+b.value);else{d=[];for(var j=0;j<b.args.length;j++)e=b.args[j],"string"===typeof e&&(e='"'+e.replace("\n","\\n")+'"'),d.push(e);c.push(b.opcode+" "+d.join(" "))}return c.join("\n")},equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;c<b;c++){var d=this.opcodes[c],
e=a.opcodes[c];if(d.opcode!==e.opcode||d.args.length!==e.args.length)return!1;for(var f=0;f<d.args.length;f++)if(d.args[f]!==e.args[f])return!1}b=this.children.length;if(a.children.length!==b)return!1;for(c=0;c<b;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.children=[];this.depths={list:[]};this.options=b;var c=this.options.knownHelpers;this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0};
if(c)for(var d in c)this.options.knownHelpers[d]=c[d];return this.program(a)},accept:function(a){return this[a.type](a)},program:function(a){a=a.statements;var b;this.opcodes=[];for(var c=0,d=a.length;c<d;c++)b=a[c],this[b.type](b);this.isSimple=1===d;this.depths.list=this.depths.list.sort(function(a,b){return a-b});return this},compileProgram:function(a){a=(new this.compiler).compile(a,this.options);var b=this.guid++,c;this.usePartial=this.usePartial||a.usePartial;this.children[b]=a;for(var d=0,
e=a.depths.list.length;d<e;d++)c=a.depths.list[d],2>c||this.addDepth(c-1);return b},block:function(a){var b=a.mustache,c=a.program;a=a.inverse;c&&(c=this.compileProgram(c));a&&(a=this.compileProgram(a));var d=this.classifyMustache(b);"helper"===d?this.helperMustache(b,c,a):"simple"===d?(this.simpleMustache(b),this.opcode("pushProgram",c),this.opcode("pushProgram",a),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(b,c,a),this.opcode("pushProgram",c),this.opcode("pushProgram",
a),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue"));this.opcode("append")},hash:function(a){a=a.pairs;var b,c;this.opcode("pushHash");for(var d=0,e=a.length;d<e;d++)b=a[d],c=b[1],this.options.stringParams?(c.depth&&this.addDepth(c.depth),this.opcode("getContext",c.depth||0),this.opcode("pushStringParam",c.stringModeValue,c.type)):this.accept(c),this.opcode("assignToHash",b[0]);this.opcode("popHash")},partial:function(a){var b=a.partialName;this.usePartial=!0;a.context?this.ID(a.context):
this.opcode("push","depth0");this.opcode("invokePartial",b.name);this.opcode("append")},content:function(a){this.opcode("appendContent",a.string)},mustache:function(a){var b=this.options,c=this.classifyMustache(a);"simple"===c?this.simpleMustache(a):"helper"===c?this.helperMustache(a):this.ambiguousMustache(a);a.escaped&&!b.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(a,b,c){a=a.id;var d=a.parts[0],e=null!=b||null!=c;this.opcode("getContext",a.depth);this.opcode("pushProgram",
b);this.opcode("pushProgram",c);this.opcode("invokeAmbiguous",d,e)},simpleMustache:function(a){a=a.id;"DATA"===a.type?this.DATA(a):a.parts.length?this.ID(a):(this.addDepth(a.depth),this.opcode("getContext",a.depth),this.opcode("pushContext"));this.opcode("resolvePossibleLambda")},helperMustache:function(a,b,c){b=this.setupFullMustacheParams(a,b,c);a=a.id.parts[0];if(this.options.knownHelpers[a])this.opcode("invokeKnownHelper",b.length,a);else{if(this.options.knownHelpersOnly)throw Error("You specified knownHelpersOnly, but used the unknown helper "+
a);this.opcode("invokeHelper",b.length,a)}},ID:function(a){this.addDepth(a.depth);this.opcode("getContext",a.depth);a.parts[0]?this.opcode("lookupOnContext",a.parts[0]):this.opcode("pushContext");for(var b=1,c=a.parts.length;b<c;b++)this.opcode("lookup",a.parts[b])},DATA:function(a){this.options.data=!0;if(a.id.isScoped||a.id.depth)throw new e.Exception("Scoped data references are not supported: "+a.original);this.opcode("lookupData");a=a.id.parts;for(var b=0,c=a.length;b<c;b++)this.opcode("lookup",
a[b])},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("pushLiteral",a.integer)},BOOLEAN:function(a){this.opcode("pushLiteral",a.bool)},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,args:[].slice.call(arguments,1)})},declare:function(a,b){this.opcodes.push({opcode:"DECLARE",name:a,value:b})},addDepth:function(a){if(isNaN(a))throw Error("EWOT");0!==a&&!this.depths[a]&&(this.depths[a]=!0,this.depths.list.push(a))},classifyMustache:function(a){var b=
a.isHelper,c=a.eligibleHelper,d=this.options;c&&!b&&(d.knownHelpers[a.id.parts[0]]?b=!0:d.knownHelpersOnly&&(c=!1));return b?"helper":c?"ambiguous":"simple"},pushParams:function(a){for(var b=a.length,c;b--;)if(c=a[b],this.options.stringParams)c.depth&&this.addDepth(c.depth),this.opcode("getContext",c.depth||0),this.opcode("pushStringParam",c.stringModeValue,c.type);else this[c.type](c)},setupMustacheParams:function(a){var b=a.params;this.pushParams(b);a.hash?this.hash(a.hash):this.opcode("emptyHash");
return b},setupFullMustacheParams:function(a,b,c){var d=a.params;this.pushParams(d);this.opcode("pushProgram",b);this.opcode("pushProgram",c);a.hash?this.hash(a.hash):this.opcode("emptyHash");return d}};var t=function(a){this.value=a};s.prototype={nameLookup:function(a,b){return/^[0-9]+$/.test(b)?a+"["+b+"]":s.isValidJavaScriptVariableName(b)?a+"."+b:a+"['"+b+"']"},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":{appendToBuffer:!0,content:a,toString:function(){return"buffer += "+
a+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(a,b,c,d){this.environment=a;this.options=b||{};e.log(e.logger.DEBUG,this.environment.disassemble()+"\n\n");this.name=this.environment.name;this.isChild=!!c;this.context=c||{programs:[],environments:[],aliases:{}};this.preamble();this.stackSlot=0;this.stackVars=[];this.registers={list:[]};this.compileStack=[];this.inlineStack=[];this.compileChildren(a,b);a=a.opcodes;this.i=0;for(x=a.length;this.i<
x;this.i++)b=a[this.i],"DECLARE"===b.opcode?this[b.name]=b.value:this[b.opcode].apply(this,b.args);return this.createFunctionContext(d)},nextOpcode:function(){return this.environment.opcodes[this.i+1]},eat:function(){this.i+=1},preamble:function(){var a=[];if(this.isChild)a.push("");else{var b=this.namespace,c="helpers = this.merge(helpers, "+b+".helpers);";this.environment.usePartial&&(c=c+" partials = this.merge(partials, "+b+".partials);");this.options.data&&(c+=" data = data || {};");a.push(c)}this.environment.isSimple?
a.push(""):a.push(", buffer = "+this.initializeBuffer());this.lastContext=0;this.source=a},createFunctionContext:function(a){var b=this.stackVars.concat(this.registers.list);0<b.length&&(this.source[1]=this.source[1]+", "+b.join(", "));if(!this.isChild)for(var c in this.context.aliases)this.context.aliases.hasOwnProperty(c)&&(this.source[1]=this.source[1]+", "+c+"="+this.context.aliases[c]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";");this.isChild||(this.source[1]+="\n"+
this.context.programs.join("\n")+"\n");this.environment.isSimple||this.source.push("return buffer;");b=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];c=0;for(var d=this.environment.depths.list.length;c<d;c++)b.push("depth"+this.environment.depths.list[c]);c=this.mergeSource();this.isChild||(d=e.COMPILER_REVISION,c="this.compilerInfo = ["+d+",'"+e.REVISION_CHANGES[d]+"'];\n"+c);if(a)return b.push(c),Function.apply(this,b);a="function "+(this.name||"")+"("+b.join(",")+
") {\n  "+c+"}";e.log(e.logger.DEBUG,a+"\n\n");return a},mergeSource:function(){for(var a="",b,c=0,d=this.source.length;c<d;c++){var e=this.source[c];e.appendToBuffer?b=b?b+"\n    + "+e.content:e.content:(b&&(a+="buffer += "+b+";\n  ",b=m),a+=e+"\n  ")}return a},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);this.replaceStack(function(b){a.splice(1,0,b);return"blockHelperMissing.call("+a.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing=
"helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);var b=this.topStack();a.splice(1,0,b);a[a.length-1]="options";this.source.push("if (!"+this.lastHelper+") { "+b+" = blockHelperMissing.call("+a.join(", ")+"); }")},appendContent:function(a){this.source.push(this.appendToBuffer(this.quotedString(a)))},append:function(){this.flushInline();var a=this.popStack();this.source.push("if("+a+" || "+a+" === 0) { "+this.appendToBuffer(a)+" }");this.environment.isSimple&&this.source.push("else { "+
this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression";this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.push(this.nameLookup("depth"+this.lastContext,a,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"';
this.replaceStack(function(a){return"typeof "+a+" === functionType ? "+a+".apply(depth0) : "+a})},lookup:function(a){this.replaceStack(function(b){return b+" == null || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,"context")})},lookupData:function(){this.push("data")},pushStringParam:function(a,b){this.pushStackLiteral("depth"+this.lastContext);this.pushString(b);"string"===typeof a?this.pushString(a):this.pushStackLiteral(a)},emptyHash:function(){this.pushStackLiteral("{}");this.options.stringParams&&
(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var a=this.hash;this.hash=m;this.options.stringParams&&(this.register("hashContexts","{"+a.contexts.join(",")+"}"),this.register("hashTypes","{"+a.types.join(",")+"}"));this.push("{\n    "+a.values.join(",\n    ")+"\n  }")},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},push:function(a){this.inlineStack.push(a);return a},pushLiteral:function(a){this.pushStackLiteral(a)},
pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},invokeHelper:function(a,b){this.context.aliases.helperMissing="helpers.helperMissing";var c=this.lastHelper=this.setupHelper(a,b,!0),d=this.nameLookup("depth"+this.lastContext,b,"context");this.push(c.name+" || "+d);this.replaceStack(function(a){return a+" ? "+a+".call("+c.callParams+") : helperMissing.call("+c.helperMissingParams+")"})},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,
b);this.push(c.name+".call("+c.callParams+")")},invokeAmbiguous:function(a,b){this.context.aliases.functionType='"function"';this.pushStackLiteral("{}");var c=this.setupHelper(0,a,b),d=this.lastHelper=this.nameLookup("helpers",a,"helper"),e=this.nameLookup("depth"+this.lastContext,a,"context"),f=this.nextStack();this.source.push("if ("+f+" = "+d+") { "+f+" = "+f+".call("+c.callParams+"); }");this.source.push("else { "+f+" = "+e+"; "+f+" = typeof "+f+" === functionType ? "+f+".apply(depth0) : "+f+
"; }")},invokePartial:function(a){a=[this.nameLookup("partials",a,"partial"),"'"+a+"'",this.popStack(),"helpers","partials"];this.options.data&&a.push("data");this.context.aliases.self="this";this.push("self.invokePartial("+a.join(", ")+")")},assignToHash:function(a){var b=this.popStack(),c,d;this.options.stringParams&&(d=this.popStack(),c=this.popStack());var e=this.hash;c&&e.contexts.push("'"+a+"': "+c);d&&e.types.push("'"+a+"': "+d);e.values.push("'"+a+"': ("+b+")")},compiler:s,compileChildren:function(a,
b){for(var c=a.children,d,e,f=0,g=c.length;f<g;f++){d=c[f];e=new this.compiler;var j=this.matchExistingProgram(d);null==j?(this.context.programs.push(""),j=this.context.programs.length,d.index=j,d.name="program"+j,this.context.programs[j]=e.compile(d,b,this.context),this.context.environments[j]=d):(d.index=j,d.name="program"+j)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;b<c;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){this.context.aliases.self=
"this";if(null==a)return"self.noop";var b=this.environment.children[a];a=b.depths.list;for(var c=[b.index,b.name,"data"],d=0,e=a.length;d<e;d++)b=a[d],1===b?c.push("depth0"):c.push("depth"+(b-1));return(0===a.length?"self.program(":"self.programWithDepth(")+c.join(", ")+")"},register:function(a,b){this.useRegister(a);this.source.push(a+" = "+b+";")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new t(a))},
pushStack:function(a){this.flushInline();var b=this.incrStack();a&&this.source.push(b+" = "+a+";");this.compileStack.push(b);return b},replaceStack:function(a){var b="",c=this.isInline(),d;c?(d=this.popStack(!0),d instanceof t?d=d.value:(b=this.stackSlot?this.topStackName():this.incrStack(),b="("+this.push(b)+" = "+d+"),",d=this.topStack())):d=this.topStack();a=a.call(this,d);c?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+b+a+")")):(/^stack/.test(d)||(d=this.nextStack()),
this.source.push(d+" = ("+b+a+");"));return d},nextStack:function(){return this.pushStack()},incrStack:function(){this.stackSlot++;this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot);return this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var b=0,c=a.length;b<c;b++){var d=a[b];d instanceof t?this.compileStack.push(d):this.pushStack(d)}}},isInline:function(){return this.inlineStack.length},
popStack:function(a){var b=this.isInline(),c=(b?this.inlineStack:this.compileStack).pop();if(!a&&c instanceof t)return c.value;b||this.stackSlot--;return c},topStack:function(a){var b=this.isInline()?this.inlineStack:this.compileStack,b=b[b.length-1];return!a&&b instanceof t?b.value:b},quotedString:function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(a,b,c){var d=
[];this.setupParams(a,d,c);a=this.nameLookup("helpers",b,"helper");return{params:d,name:a,callParams:["depth0"].concat(d).join(", "),helperMissingParams:c&&["depth0",this.quotedString(b)].concat(d).join(", ")}},setupParams:function(a,b,c){var d=[],e=[],f=[],g,j;d.push("hash:"+this.popStack());g=this.popStack();if((j=this.popStack())||g)j||(this.context.aliases.self="this",j="self.noop"),g||(this.context.aliases.self="this",g="self.noop"),d.push("inverse:"+g),d.push("fn:"+j);for(j=0;j<a;j++)g=this.popStack(),
b.push(g),this.options.stringParams&&(f.push(this.popStack()),e.push(this.popStack()));this.options.stringParams&&(d.push("contexts:["+e.join(",")+"]"),d.push("types:["+f.join(",")+"]"),d.push("hashContexts:hashContexts"),d.push("hashTypes:hashTypes"));this.options.data&&d.push("data:data");d="{"+d.join(",")+"}";c?(this.register("options",d),b.push("options")):b.push(d);return b.join(", ")}};n="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" ");
for(var u=s.RESERVED_WORDS={},y=0,x=n.length;y<x;y++)u[n[y]]=!0;s.isValidJavaScriptVariableName=function(a){return!s.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(a)?!0:!1};e.precompile=function(a,b){if(null==a||"string"!==typeof a&&a.constructor!==e.AST.ProgramNode)throw new e.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);b=b||{};"data"in b||(b.data=!0);var c=e.parse(a),c=(new v).compile(c,b);return(new s).compile(c,b)};e.compile=function(a,
b){if(null==a||"string"!==typeof a&&a.constructor!==e.AST.ProgramNode)throw new e.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);b=b||{};"data"in b||(b.data=!0);var c;return function(d,h){if(!c){var f=e.parse(a),f=(new v).compile(f,b),f=(new s).compile(f,b,m,!0);c=e.template(f)}return c.call(this,d,h)}};e.VM={template:function(a){var b={escapeExpression:e.Utils.escapeExpression,invokePartial:e.VM.invokePartial,programs:[],program:function(a,b,h){var f=this.programs[a];
h?f=e.VM.program(a,b,h):f||(f=this.programs[a]=e.VM.program(a,b));return f},merge:function(a,b){var h=a||b;a&&b&&(h={},e.Utils.extend(h,b),e.Utils.extend(h,a));return h},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(c,d){d=d||{};var h=a.call(b,e,c,d.helpers,d.partials,d.data),f=b.compilerInfo||[],g=f[0]||1,j=e.COMPILER_REVISION;if(g!==j){if(g<j)throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+
e.REVISION_CHANGES[j]+") or downgrade your runtime to an older version ("+e.REVISION_CHANGES[g]+").";throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+f[1]+").";}return h}},programWithDepth:function(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){e=e||{};return b.apply(this,[a,e.data||c].concat(d))};e.program=a;e.depth=d.length;return e},program:function(a,b,c){var d=function(a,d){d=d||
{};return b(a,d.data||c)};d.program=a;d.depth=0;return d},noop:function(){return""},invokePartial:function(a,b,c,d,h,f){d={helpers:d,partials:h,data:f};if(a===m)throw new e.Exception("The partial "+b+" could not be found");if(a instanceof Function)return a(c,d);if(e.compile)return h[b]=e.compile(a,{data:f!==m}),h[b](c,d);throw new e.Exception("The partial "+b+" could not be compiled when running in runtime-only mode");}};e.template=e.VM.template})(Handlebars);
(function(n,A){var j=n.document,e=j.documentElement,s=window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",t=window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",u=window.navigator.msPointerEnabled?"MSPointerUp":"touchend",g="ontouchmove"in j,v=!1,c;if(!(c="WebkitOverflowScrolling"in e.style))if(!(c="msOverflowStyle"in e.style))if(!(c=!g&&800<n.screen.width)){c=n.navigator.userAgent;var l=c.match(/AppleWebKit\/([0-9]+)/),q=l&&l[1],h=l&&534<=q;c=c.match(/Android ([0-9]+)/)&&3<=RegExp.$1&&
h||c.match(/ Version\/([0-9]+)/)&&0<=RegExp.$1&&n.blackberry&&h||-1<c.indexOf(/PlayBook/)&&0<=RegExp.$1&&h||c.match(/Fennec\/([0-9]+)/)&&4<=RegExp.$1||c.match(/wOSBrowser\/([0-9]+)/)&&233<=RegExp.$1&&h||c.match(/NokiaBrowser\/([0-9\.]+)/)&&7.3===parseFloat(RegExp.$1)&&l&&533<=q||c.match(/Windows Phone/i)}var r=c,w=function(a,d,b){return!b&&d&&d.className&&-1<d.className.indexOf(a)&&d||d.parentNode&&w(a,d.parentNode)},B=function(){var a,d=[],b,c;j.addEventListener(s,function(p){clearInterval(c);d=
[];b=null;if((a=w("overthrow-x",p.target))&&!(a===e||1<p.touches.length)){var g=a.scrollLeft,C=a.offsetWidth,j=p.touches[0].pageX,l=a.scrollWidth,h=function(c){var m=g+j-c.touches[0].pageX,e=m>=(d.length?d[0]:0);b&&e!==b&&(d=[],b=null);b=e;a.scrollLeft=m;d.unshift(m);3<d.length&&d.pop();0<m&&m<l-C&&c.preventDefault()},y=function(){var b=8*(d[0]-d[d.length-1]),e=Math.abs(b)/8,b=(0<b?"+":"")+b;if(!isNaN(e)&&0<e&&80<Math.abs(b)){var b={left:b,duration:e},g=0,z=a.scrollLeft,f={left:"+0",duration:100,
easing:n.overthrow.easing},x;if(b)for(var p in f)b[p]!==A&&(f[p]=b[p]);"string"===typeof f.left?(f.left=parseFloat(f.left),x=f.left+z):(x=f.left,f.left-=z);clearInterval(c);c=setInterval(function(){g++<f.duration?a.scrollLeft=f.easing(g,z,f.left,f.duration):(x!==a.scrollLeft&&(a.scrollLeft=x),clearInterval(c))},1)}a.removeEventListener(t,h,!1);a.removeEventListener(u,y,!1)};a.addEventListener(t,h,!1);a.addEventListener(u,y,!1)}},!1)};enableOverthrowY=function(){var a,d=[],b,c,g;j.addEventListener(s,
function(h){clearInterval(c);d=[];b=null;if((a=w("overthrow-y",h.target))&&!(a===e||1<h.touches.length)){g=a.querySelectorAll("textarea, input");for(var j=0,l=g.length;j<l;j++)g[j].style.pointerEvents="none";var r=a.scrollTop,s=a.offsetHeight,y=h.touches[0].pageY,v=a.scrollHeight,m=function(c){var f=r+y-c.touches[0].pageY,e=f>=(d.length?d[0]:0);b&&e!==b&&(d=[],b=null);b=e;a.scrollTop=f;d.unshift(f);3<d.length&&d.pop();0<f&&f<v-s&&c.preventDefault()},q=function(){var b=8*(d[0]-d[d.length-1]),f=Math.abs(b)/
8,b=(0<b?"+":"")+b;if(!isNaN(f)&&0<f&&80<Math.abs(b)){var b={top:b,duration:f},e=0,g=a.scrollTop,k={top:"+0",duration:100,easing:n.overthrow.easing},h;if(b)for(var j in k)b[j]!==A&&(k[j]=b[j]);"string"===typeof k.top?(k.top=parseFloat(k.top),h=k.top+g):(h=k.top,k.top-=g);clearInterval(c);c=setInterval(function(){e++<k.duration?a.scrollTop=k.easing(e,g,k.top,k.duration):(h!==a.scrollTop&&(a.scrollTop=h),clearInterval(c))},1)}a.removeEventListener(t,m,!1);a.removeEventListener(u,q,!1)};a.addEventListener(t,
m,!1);a.addEventListener(u,q,!1)}},!1)};n.overthrow={set:function(a){if(!0===a||"overthrow-x"===a)e.className+=" force-overthrow-x-polyfill ",g=!0;if(!0===a||"overthrow-y"===a)e.className+=" force-overthrow-y-polyfill ",g=!0;if(!v){v=!0;if(r||g)e.className+=" overthrow-enabled";if(a||!r&&g)"undefined"!==typeof a?((!0===a||"overthrow-x"===a)&&B(),(!0===a||"overthrow-y"===a)&&enableOverthrowY()):(B(),enableOverthrowY())}},forget:function(){},easing:function(a,c,b,e){return b*((a=a/e-1)*a*a+1)+c},closestElWithClass:w,
support:r?"native":g&&"polyfilled"||"none"}})(this);
/*
 FastClick: polyfill to remove click delays on browsers with touch UIs.

 @version 0.6.9
 @codingstandard ftlabs-jsv2
 @copyright The Financial Times Limited [All Rights Reserved]
 @license MIT License (see LICENSE.txt)
*/
function FastClick(a){var b,c=this;this.trackingClick=!1;this.trackingClickStart=0;this.targetElement=null;this.lastTouchIdentifier=this.touchStartY=this.touchStartX=0;this.touchBoundary=10;this.layer=a;if(!a||!a.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return FastClick.prototype.onClick.apply(c,arguments)};this.onMouse=function(){return FastClick.prototype.onMouse.apply(c,arguments)};this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(c,
arguments)};this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(c,arguments)};this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(c,arguments)};FastClick.notNeeded(a)||(this.deviceIsAndroid&&(a.addEventListener("mouseover",this.onMouse,!0),a.addEventListener("mousedown",this.onMouse,!0),a.addEventListener("mouseup",this.onMouse,!0)),a.addEventListener("click",this.onClick,!0),a.addEventListener("touchstart",this.onTouchStart,!1),a.addEventListener("touchend",
this.onTouchEnd,!1),a.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(a.removeEventListener=function(b,c,e){var f=Node.prototype.removeEventListener;"click"===b?f.call(a,b,c.hijacked||c,e):f.call(a,b,c,e)},a.addEventListener=function(b,c,e){var f=Node.prototype.addEventListener;"click"===b?f.call(a,b,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),e):f.call(a,b,c,e)}),"function"===typeof a.onclick&&(b=a.onclick,a.addEventListener("click",
function(a){b(a)},!1),a.onclick=null))}FastClick.prototype.deviceIsAndroid=0<navigator.userAgent.indexOf("Android");FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent);FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent);FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);
FastClick.prototype.needsClick=function(a){switch(a.nodeName.toLowerCase()){case "button":case "select":case "textarea":if(a.disabled)return!0;break;case "input":if(this.deviceIsIOS&&"file"===a.type||a.disabled)return!0;break;case "label":case "video":return!0}return/\bneedsclick\b/.test(a.className)};
FastClick.prototype.needsFocus=function(a){switch(a.nodeName.toLowerCase()){case "textarea":case "select":return!0;case "input":switch(a.type){case "button":case "checkbox":case "file":case "image":case "radio":case "submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}};
FastClick.prototype.sendClick=function(a,b){var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur();d=b.changedTouches[0];c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null);c.forwardedTouchEvent=!0;a.dispatchEvent(c)};FastClick.prototype.focus=function(a){var b;this.deviceIsIOS&&a.setSelectionRange?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()};
FastClick.prototype.updateScrollParent=function(a){var b,c;b=a.fastClickScrollParent;if(!b||!b.contains(a)){c=a;do{if(c.scrollHeight>c.offsetHeight){b=c;a.fastClickScrollParent=c;break}c=c.parentElement}while(c)}b&&(b.fastClickLastScrollTop=b.scrollTop)};FastClick.prototype.getTargetElementFromEventTarget=function(a){return a.nodeType===Node.TEXT_NODE?a.parentNode:a};
FastClick.prototype.onTouchStart=function(a){var b,c,d;if(1<a.targetTouches.length)return!0;b=this.getTargetElementFromEventTarget(a.target);c=a.targetTouches[0];if(this.deviceIsIOS){d=window.getSelection();if(d.rangeCount&&!d.isCollapsed)return!0;if(!this.deviceIsIOS4){if(c.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=c.identifier;this.updateScrollParent(b)}}this.trackingClick=!0;this.trackingClickStart=a.timeStamp;this.targetElement=b;this.touchStartX=
c.pageX;this.touchStartY=c.pageY;200>a.timeStamp-this.lastClickTime&&a.preventDefault();return!0};FastClick.prototype.touchHasMoved=function(a){a=a.changedTouches[0];var b=this.touchBoundary;return Math.abs(a.pageX-this.touchStartX)>b||Math.abs(a.pageY-this.touchStartY)>b?!0:!1};FastClick.prototype.findControl=function(a){return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};
FastClick.prototype.onTouchEnd=function(a){var b,c,d=this.targetElement;this.touchHasMoved(a)&&(this.trackingClick=!1,this.targetElement=null);if(!this.trackingClick)return!0;if(200>a.timeStamp-this.lastClickTime)return this.cancelNextClick=!0;this.lastClickTime=a.timeStamp;b=this.trackingClickStart;this.trackingClick=!1;this.trackingClickStart=0;this.deviceIsIOSWithBadTarget&&(c=a.changedTouches[0],d=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||d,d.fastClickScrollParent=
this.targetElement.fastClickScrollParent);c=d.tagName.toLowerCase();if("label"===c){if(b=this.findControl(d)){this.focus(d);if(this.deviceIsAndroid)return!1;d=b}}else if(this.needsFocus(d)){if(100<a.timeStamp-b||this.deviceIsIOS&&window.top!==window&&"input"===c)return this.targetElement=null,!1;this.focus(d);if(!this.deviceIsIOS4||"select"!==c)this.targetElement=null,a.preventDefault();return!1}if(this.deviceIsIOS&&!this.deviceIsIOS4&&(b=d.fastClickScrollParent)&&b.fastClickLastScrollTop!==b.scrollTop)return!0;
this.needsClick(d)||(a.preventDefault(),this.sendClick(d,a));return!1};FastClick.prototype.onTouchCancel=function(){this.trackingClick=!1;this.targetElement=null};FastClick.prototype.onMouse=function(a){return!this.targetElement||a.forwardedTouchEvent||!a.cancelable?!0:!this.needsClick(this.targetElement)||this.cancelNextClick?(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1):!0};
FastClick.prototype.onClick=function(a){if(this.trackingClick)return this.targetElement=null,this.trackingClick=!1,!0;if("submit"===a.target.type&&0===a.detail)return!0;a=this.onMouse(a);a||(this.targetElement=null);return a};
FastClick.prototype.destroy=function(){var a=this.layer;this.deviceIsAndroid&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0));a.removeEventListener("click",this.onClick,!0);a.removeEventListener("touchstart",this.onTouchStart,!1);a.removeEventListener("touchend",this.onTouchEnd,!1);a.removeEventListener("touchcancel",this.onTouchCancel,!1)};
FastClick.notNeeded=function(a){var b;if("undefined"===typeof window.ontouchstart)return!0;if(/Chrome\/[0-9]+/.test(navigator.userAgent))if(FastClick.prototype.deviceIsAndroid){if((b=document.querySelector("meta[name=viewport]"))&&-1!==b.content.indexOf("user-scalable=no"))return!0}else return!0;return"none"===a.style.msTouchAction?!0:!1};FastClick.attach=function(a){return new FastClick(a)};
"undefined"!==typeof define&&define.amd?define(function(){return FastClick}):"undefined"!==typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick;
(function(f,l){var a=function(b,c){return new a.Instance(b,c||{})};a.defaults={stop_browser_behavior:{userSelect:"none",touchCallout:"none",touchAction:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};a.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled;a.HAS_TOUCHEVENTS="ontouchstart"in f;a.EVENT_TYPES={};a.DIRECTION_DOWN="down";a.DIRECTION_LEFT="left";a.DIRECTION_UP="up";a.DIRECTION_RIGHT="right";a.POINTER_MOUSE="mouse";a.POINTER_TOUCH="touch";
a.POINTER_PEN="pen";a.EVENT_START="start";a.EVENT_MOVE="move";a.EVENT_END="end";a.DOCUMENT=document;a.plugins={};a.READY=!1;a.Instance=function(b,c){var d=this;if(!a.READY){a.event.determineEventTypes();for(var e in a.gestures)a.gestures.hasOwnProperty(e)&&a.detection.register(a.gestures[e]);a.event.onTouch(a.DOCUMENT,a.EVENT_MOVE,a.detection.detect);a.event.onTouch(a.DOCUMENT,a.EVENT_END,a.detection.detect);a.READY=!0}this.element=b;this.enabled=!0;this.options=a.utils.extend(a.utils.extend({},a.defaults),
c||{});this.options.stop_browser_behavior&&a.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior);a.event.onTouch(b,a.EVENT_START,function(b){d.enabled&&a.detection.startDetect(d,b)});return this};a.Instance.prototype={on:function(b,a){for(var d=b.split(" "),e=0;e<d.length;e++)this.element.addEventListener(d[e],a,!1);return this},off:function(b,a){for(var d=b.split(" "),e=0;e<d.length;e++)this.element.removeEventListener(d[e],a,!1);return this},trigger:function(b,c){var d=
a.DOCUMENT.createEvent("Event");d.initEvent(b,!0,!0);d.gesture=c;var e=this.element;a.utils.hasParent(c.target,e)&&(e=c.target);e.dispatchEvent(d);return this},enable:function(b){this.enabled=b;return this}};var g=null,h=!1,m=!1;a.event={bindDom:function(b,a,d){a=a.split(" ");for(var e=0;e<a.length;e++)b.addEventListener(a[e],d,!1)},onTouch:function(b,c,d){var e=this;this.bindDom(b,a.EVENT_TYPES[c],function(j){var f=j.type.toLowerCase();if(!f.match(/mouse/)||!m){if(f.match(/touch/)||f.match(/pointerdown/)||
f.match(/mouse/)&&1===j.which)h=!0;f.match(/touch|pointer/)&&(m=!0);var k=0;h&&(a.HAS_POINTEREVENTS&&c!=a.EVENT_END?k=a.PointerEvent.updatePointer(c,j):f.match(/touch/)?k=j.touches.length:m||(k=f.match(/up/)?0:1),0<k&&c==a.EVENT_END?c=a.EVENT_MOVE:k||(c=a.EVENT_END),!k&&null!==g?j=g:g=j,d.call(a.detection,e.collectEventData(b,c,j)),a.HAS_POINTEREVENTS&&c==a.EVENT_END&&(k=a.PointerEvent.updatePointer(c,j)));k||(g=null,m=h=!1,a.PointerEvent.reset())}})},determineEventTypes:function(){var b;b=a.HAS_POINTEREVENTS?
a.PointerEvent.getEvents():["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"];a.EVENT_TYPES[a.EVENT_START]=b[0];a.EVENT_TYPES[a.EVENT_MOVE]=b[1];a.EVENT_TYPES[a.EVENT_END]=b[2]},getTouchList:function(b){return a.HAS_POINTEREVENTS?a.PointerEvent.getTouchList():b.touches?b.touches:[{identifier:1,pageX:b.pageX,pageY:b.pageY,target:b.target}]},collectEventData:function(b,c,d){b=this.getTouchList(d,c);var e=a.POINTER_TOUCH;if(d.type.match(/mouse/)||a.PointerEvent.matchType(a.POINTER_MOUSE,
d))e=a.POINTER_MOUSE;return{center:a.utils.getCenter(b),timeStamp:(new Date).getTime(),target:d.target,touches:b,eventType:c,pointerType:e,srcEvent:d,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation();this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return a.detection.stopDetect()}}}};a.PointerEvent={pointers:{},getTouchList:function(){var b=this,a=[];Object.keys(b.pointers).sort().forEach(function(d){a.push(b.pointers[d])});
return a},updatePointer:function(b,c){b==a.EVENT_END?this.pointers={}:(c.identifier=c.pointerId,this.pointers[c.pointerId]=c);return Object.keys(this.pointers).length},matchType:function(b,c){if(!c.pointerType)return!1;var d={};d[a.POINTER_MOUSE]=c.pointerType==c.MSPOINTER_TYPE_MOUSE||c.pointerType==a.POINTER_MOUSE;d[a.POINTER_TOUCH]=c.pointerType==c.MSPOINTER_TYPE_TOUCH||c.pointerType==a.POINTER_TOUCH;d[a.POINTER_PEN]=c.pointerType==c.MSPOINTER_TYPE_PEN||c.pointerType==a.POINTER_PEN;return d[b]},
getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}};a.utils={extend:function(b,a){for(var d in a)b[d]=a[d];return b},hasParent:function(b,a){for(;b;){if(b==a)return!0;b=b.parentNode}return!1},getCenter:function(b){for(var a=[],d=[],e=0,f=b.length;e<f;e++)a.push(b[e].pageX),d.push(b[e].pageY);return{pageX:(Math.min.apply(Math,a)+Math.max.apply(Math,a))/2,pageY:(Math.min.apply(Math,
d)+Math.max.apply(Math,d))/2}},getVelocity:function(b,a,d){return{x:Math.abs(a/b)||0,y:Math.abs(d/b)||0}},getAngle:function(b,a){return 180*Math.atan2(a.pageY-b.pageY,a.pageX-b.pageX)/Math.PI},getDirection:function(b,c){var d=Math.abs(b.pageX-c.pageX),e=Math.abs(b.pageY-c.pageY);return d>=e?0<b.pageX-c.pageX?a.DIRECTION_LEFT:a.DIRECTION_RIGHT:0<b.pageY-c.pageY?a.DIRECTION_UP:a.DIRECTION_DOWN},getDistance:function(b,a){var d=a.pageX-b.pageX,e=a.pageY-b.pageY;return Math.sqrt(d*d+e*e)},getScale:function(a,
c){return 2<=a.length&&2<=c.length?this.getDistance(c[0],c[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,c){return 2<=a.length&&2<=c.length?this.getAngle(c[1],c[0])-this.getAngle(a[1],a[0]):0},isVertical:function(b){return b==a.DIRECTION_UP||b==a.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(a,c){var d,e="webkit khtml moz ms o ".split(" ");if(c&&a.style){for(var f=0;f<e.length;f++)for(var g in c)c.hasOwnProperty(g)&&(d=g,e[f]&&(d=e[f]+d.substring(0,1).toUpperCase()+d.substring(1)),
a.style[d]=c[g]);"none"==c.userSelect&&(a.onselectstart=function(){return!1})}}};a.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(b,c){this.current||(this.stopped=!1,this.current={inst:b,startEvent:a.utils.extend({},c),lastEvent:!1,name:""},this.detect(c))},detect:function(b){if(this.current&&!this.stopped){b=this.extendEventData(b);for(var c=this.current.inst.options,d=0,e=this.gestures.length;d<e;d++){var f=this.gestures[d];if(!this.stopped&&!1!==c[f.name]&&!1===
f.handler.call(f,b,this.current.inst)){this.stopDetect();break}}this.current&&(this.current.lastEvent=b);b.eventType==a.EVENT_END&&!b.touches.length-1&&this.stopDetect();return b}},stopDetect:function(){this.previous=a.utils.extend({},this.current);this.current=null;this.stopped=!0},extendEventData:function(b){var c=this.current.startEvent;if(c&&(b.touches.length!=c.touches.length||b.touches===c.touches)){c.touches=[];for(var d=0,e=b.touches.length;d<e;d++)c.touches.push(a.utils.extend({},b.touches[d]))}var d=
b.timeStamp-c.timeStamp,e=b.center.pageX-c.center.pageX,f=b.center.pageY-c.center.pageY,g=a.utils.getVelocity(d,e,f);a.utils.extend(b,{deltaTime:d,deltaX:e,deltaY:f,velocityX:g.x,velocityY:g.y,distance:a.utils.getDistance(c.center,b.center),angle:a.utils.getAngle(c.center,b.center),direction:a.utils.getDirection(c.center,b.center),scale:a.utils.getScale(c.touches,b.touches),rotation:a.utils.getRotation(c.touches,b.touches),startEvent:c});return b},register:function(b){var c=b.defaults||{};c[b.name]===
l&&(c[b.name]=!0);a.utils.extend(a.defaults,c);b.index=b.index||1E3;this.gestures.push(b);this.gestures.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0});return this.gestures}};a.gestures=a.gestures||{};a.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(b,c){switch(b.eventType){case a.EVENT_START:clearTimeout(this.timer);a.detection.current.name=this.name;this.timer=setTimeout(function(){"hold"==a.detection.current.name&&
c.trigger("hold",b)},c.options.hold_timeout);break;case a.EVENT_MOVE:b.distance>c.options.hold_threshold&&clearTimeout(this.timer);break;case a.EVENT_END:clearTimeout(this.timer)}}};a.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,doubletap_distance:20,doubletap_interval:300},handler:function(b,c){if(b.eventType==a.EVENT_END){var d=a.detection.previous;b.deltaTime>c.options.tap_max_touchtime||b.distance>c.options.tap_max_distance||(a.detection.current.name=
d&&"tap"==d.name&&b.timeStamp-d.lastEvent.timeStamp<c.options.doubletap_interval&&b.distance<c.options.doubletap_distance?"doubletap":"tap",c.trigger(a.detection.current.name,b))}}};a.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:0.7},handler:function(b,c){if(b.eventType==a.EVENT_END&&!(0<c.options.swipe_max_touches&&b.touches.length>c.options.swipe_max_touches)&&(b.velocityX>c.options.swipe_velocity||b.velocityY>c.options.swipe_velocity))c.trigger(this.name,b),
c.trigger(this.name+b.direction,b)}};a.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1},triggered:!1,handler:function(b,c){if(a.detection.current.name!=this.name&&this.triggered)c.trigger(this.name+"end",b),this.triggered=!1;else if(!(0<c.options.drag_max_touches&&b.touches.length>c.options.drag_max_touches))switch(b.eventType){case a.EVENT_START:this.triggered=!1;break;case a.EVENT_MOVE:if(b.distance<
c.options.drag_min_distance&&a.detection.current.name!=this.name)break;a.detection.current.name=this.name;var d=a.detection.current.lastEvent.direction;c.options.drag_lock_to_axis&&d!==b.direction&&(b.direction=a.utils.isVertical(d)?0>b.deltaY?a.DIRECTION_UP:a.DIRECTION_DOWN:0>b.deltaX?a.DIRECTION_LEFT:a.DIRECTION_RIGHT);this.triggered||(c.trigger(this.name+"start",b),this.triggered=!0);c.trigger(this.name,b);c.trigger(this.name+b.direction,b);(c.options.drag_block_vertical&&a.utils.isVertical(b.direction)||
c.options.drag_block_horizontal&&!a.utils.isVertical(b.direction))&&b.preventDefault();break;case a.EVENT_END:this.triggered&&c.trigger(this.name+"end",b),this.triggered=!1}}};a.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:0.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(b,c){if(a.detection.current.name!=this.name&&this.triggered)c.trigger(this.name+"end",b),this.triggered=!1;else if(!(2>b.touches.length))switch(c.options.transform_always_block&&
b.preventDefault(),b.eventType){case a.EVENT_START:this.triggered=!1;break;case a.EVENT_MOVE:var d=Math.abs(1-b.scale),e=Math.abs(b.rotation);if(d<c.options.transform_min_scale&&e<c.options.transform_min_rotation)break;a.detection.current.name=this.name;this.triggered||(c.trigger(this.name+"start",b),this.triggered=!0);c.trigger(this.name,b);e>c.options.transform_min_rotation&&c.trigger("rotate",b);d>c.options.transform_min_scale&&(c.trigger("pinch",b),c.trigger("pinch"+(1>b.scale?"in":"out"),b));
break;case a.EVENT_END:this.triggered&&c.trigger(this.name+"end",b),this.triggered=!1}}};a.gestures.Touch={name:"touch",index:-Infinity,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(b,c){c.options.prevent_mouseevents&&b.pointerType==a.POINTER_MOUSE?b.stopDetect():(c.options.prevent_default&&b.preventDefault(),b.eventType==a.EVENT_START&&c.trigger(this.name,b))}};a.gestures.Release={name:"release",index:Infinity,handler:function(b,c){b.eventType==a.EVENT_END&&c.trigger(this.name,
b)}};"object"===typeof module&&"object"===typeof module.exports?module.exports=a:(f.Hammer=a,"function"===typeof f.define&&f.define.amd&&f.define("hammer",[],function(){return a}))})(this);
(function(f,l){f!==l&&(Hammer.event.bindDom=function(a,g,h){f(a).on(g,function(a){var b=a.originalEvent||a;b.pageX===l&&(b.pageX=a.pageX,b.pageY=a.pageY);b.target||(b.target=a.target);b.which===l&&(b.which=b.button);b.preventDefault||(b.preventDefault=a.preventDefault);b.stopPropagation||(b.stopPropagation=a.stopPropagation);h.call(this,b)})},Hammer.Instance.prototype.on=function(a,g){return f(this.element).on(a,g)},Hammer.Instance.prototype.off=function(a,g){return f(this.element).off(a,g)},Hammer.Instance.prototype.trigger=
function(a,g){var h=f(this.element);h.has(g.target).length&&(h=f(g.target));return h.trigger({type:a,gesture:g})},f.fn.hammer=function(a){return this.each(function(){var g=f(this),h=g.data("hammer");h?h&&a&&Hammer.utils.extend(h.options,a):g.data("hammer",new Hammer(this,a||{}))})})})(window.jQuery||window.Zepto);
(function(l,n){"object"===typeof exports&&"undefined"!==typeof module?module.exports=n(require("jquery")):"function"===typeof define&&define.amd?define(["jquery"],n):l.Mark=n(l.jQuery)})(this,function(l){function n(a){n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return n(a)}function u(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");
}function y(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function v(a,b,c){b&&y(a.prototype,b);c&&y(a,c);return a}function s(){s=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};return s.apply(this,arguments)}l=l&&l.hasOwnProperty("default")?l["default"]:l;var t,q=function(a){var b=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:5E3;u(this,q);this.ctx=a;this.iframes=b;this.exclude=c;this.iframesTimeout=d};v(q,[{key:"getContexts",value:function(){var a=[];("undefined"===typeof this.ctx||!this.ctx?[]:NodeList.prototype.isPrototypeOf(this.ctx)?Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?this.ctx:"string"===typeof this.ctx?Array.prototype.slice.call(document.querySelectorAll(this.ctx)):
[this.ctx]).forEach(function(b){var c=0<a.filter(function(a){return a.contains(b)}).length;-1===a.indexOf(b)&&!c&&a.push(b)});return a}},{key:"getIframeContents",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){},d;try{var e=a.contentWindow;d=e.document;if(!e||!d)throw Error("iframe inaccessible");}catch(f){c()}d&&b(d)}},{key:"isIframeBlank",value:function(a){var b=a.getAttribute("src").trim();return"about:blank"===a.contentWindow.location.href&&"about:blank"!==
b&&b}},{key:"observeIframeLoad",value:function(a,b,c){var d=this,e=!1,f=null,g=function h(){if(!e){e=!0;clearTimeout(f);try{d.isIframeBlank(a)||(a.removeEventListener("load",h),d.getIframeContents(a,b,c))}catch(g){c()}}};a.addEventListener("load",g);f=setTimeout(g,this.iframesTimeout)}},{key:"onIframeReady",value:function(a,b,c){try{"complete"===a.contentWindow.document.readyState?this.isIframeBlank(a)?this.observeIframeLoad(a,b,c):this.getIframeContents(a,b,c):this.observeIframeLoad(a,b,c)}catch(d){c()}}},
{key:"waitForIframes",value:function(a,b){var c=this,d=0;this.forEachIframe(a,function(){return!0},function(a){d++;c.waitForIframes(a.querySelector("html"),function(){--d||b()})},function(a){a||b()})}},{key:"forEachIframe",value:function(a,b,c){var d=this,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:function(){},f=a.querySelectorAll("iframe"),g=f.length,k=0,f=Array.prototype.slice.call(f),h=function(){0>=--g&&e(k)};g||h();f.forEach(function(a){if(q.matches(a,d.exclude))h();else d.onIframeReady(a,
function(d){b(a)&&(k++,c(d));h()},h)})}},{key:"createIterator",value:function(a,b,c){return document.createNodeIterator(a,b,c,!1)}},{key:"createInstanceOnIframe",value:function(a){return new q(a.querySelector("html"),this.iframes)}},{key:"compareNodeIframe",value:function(a,b,c){if(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_PRECEDING)if(null!==b){if(b.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_FOLLOWING)return!0}else return!0;return!1}},{key:"getIteratorNode",value:function(a){var b=
a.previousNode();a=null===b?a.nextNode():a.nextNode()&&a.nextNode();return{prevNode:b,node:a}}},{key:"checkIframeFilter",value:function(a,b,c,d){var e=!1,f=!1;d.forEach(function(a,b){a.val===c&&(e=b,f=a.handled)});if(this.compareNodeIframe(a,b,c))return!1===e&&!f?d.push({val:c,handled:!0}):!1!==e&&!f&&(d[e].handled=!0),!0;!1===e&&d.push({val:c,handled:!1});return!1}},{key:"handleOpenIframes",value:function(a,b,c,d){var e=this;a.forEach(function(a){a.handled||e.getIframeContents(a.val,function(a){e.createInstanceOnIframe(a).forEachNode(b,
c,d)})})}},{key:"iterateThroughNodes",value:function(a,b,c,d,e){for(var f=this,g=this.createIterator(b,a,d),k=[],h=[],j,m,p=function(){var a=f.getIteratorNode(g);m=a.prevNode;return j=a.node};p();)this.iframes&&this.forEachIframe(b,function(a){return f.checkIframeFilter(j,m,a,k)},function(b){f.createInstanceOnIframe(b).forEachNode(a,function(a){return h.push(a)},d)}),h.push(j);h.forEach(function(a){c(a)});this.iframes&&this.handleOpenIframes(k,a,c,d);e()}},{key:"forEachNode",value:function(a,b,c){var d=
this,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:function(){},f=this.getContexts(),g=f.length;g||e();f.forEach(function(f){var h=function(){d.iterateThroughNodes(a,f,b,c,function(){0>=--g&&e()})};d.iframes?d.waitForIframes(f,h):h()})}}],[{key:"matches",value:function(a,b){var c="string"===typeof b?[b]:b,d=a.matches||a.matchesSelector||a.msMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector;if(d){var e=!1;c.every(function(b){return d.call(a,b)?(e=!0,!1):
!0});return e}return!1}}]);t=q;var z,w=function(a){u(this,w);this.opt=s({},{diacritics:!0,synonyms:{},accuracy:"partially",caseSensitive:!1,ignoreJoiners:!1,ignorePunctuation:[],wildcards:"disabled"},a)};v(w,[{key:"create",value:function(a){"disabled"!==this.opt.wildcards&&(a=this.setupWildcardsRegExp(a));a=this.escapeStr(a);Object.keys(this.opt.synonyms).length&&(a=this.createSynonymsRegExp(a));if(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)a=this.setupIgnoreJoinersRegExp(a);this.opt.diacritics&&
(a=this.createDiacriticsRegExp(a));a=this.createMergedBlanksRegExp(a);if(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)a=this.createJoinersRegExp(a);"disabled"!==this.opt.wildcards&&(a=this.createWildcardsRegExp(a));a=this.createAccuracyRegExp(a);return RegExp(a,"gm".concat(this.opt.caseSensitive?"":"i"))}},{key:"sortByLength",value:function(a){return a.sort(function(a,c){return a.length===c.length?a>c?1:-1:c.length-a.length})}},{key:"escapeStr",value:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,
"\\$&")}},{key:"createSynonymsRegExp",value:function(a){var b=this,c=this.opt.synonyms,d=this.opt.caseSensitive?"":"i",e=this.opt.ignoreJoiners||this.opt.ignorePunctuation.length?"\x00":"",f;for(f in c)if(c.hasOwnProperty(f)){var g=Array.isArray(c[f])?c[f]:[c[f]];g.unshift(f);g=this.sortByLength(g).map(function(a){"disabled"!==b.opt.wildcards&&(a=b.setupWildcardsRegExp(a));return a=b.escapeStr(a)}).filter(function(a){return""!==a});1<g.length&&(a=a.replace(RegExp("(".concat(g.map(function(a){return b.escapeStr(a)}).join("|"),
")"),"gm".concat(d)),e+"(".concat(g.map(function(a){return b.processSynonyms(a)}).join("|"),")")+e))}return a}},{key:"processSynonyms",value:function(a){if(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)a=this.setupIgnoreJoinersRegExp(a);return a}},{key:"setupWildcardsRegExp",value:function(a){a=a.replace(/(?:\\)*\?/g,function(a){return"\\"===a.charAt(0)?"?":"\u0001"});return a.replace(/(?:\\)*\*/g,function(a){return"\\"===a.charAt(0)?"*":"\u0002"})}},{key:"createWildcardsRegExp",value:function(a){var b=
"withSpaces"===this.opt.wildcards;return a.replace(/\u0001/g,b?"[\\S\\s]?":"\\S?").replace(/\u0002/g,b?"[\\S\\s]*?":"\\S*")}},{key:"setupIgnoreJoinersRegExp",value:function(a){return a.replace(/[^(|)\\]/g,function(a,c,d){c=d.charAt(c+1);return/[(|)\\]/.test(c)||""===c?a:a+"\x00"})}},{key:"createJoinersRegExp",value:function(a){var b=[],c=this.opt.ignorePunctuation;Array.isArray(c)&&c.length&&b.push(this.escapeStr(c.join("")));this.opt.ignoreJoiners&&b.push("\\u00ad\\u200b\\u200c\\u200d");return b.length?
a.split(/\u0000+/).join("[".concat(b.join(""),"]*")):a}},{key:"createDiacriticsRegExp",value:function(a){var b=this.opt.caseSensitive?"":"i",c=this.opt.caseSensitive?"a\u00e0\u00e1\u1ea3\u00e3\u1ea1\u0103\u1eb1\u1eaf\u1eb3\u1eb5\u1eb7\u00e2\u1ea7\u1ea5\u1ea9\u1eab\u1ead\u00e4\u00e5\u0101\u0105 A\u00c0\u00c1\u1ea2\u00c3\u1ea0\u0102\u1eb0\u1eae\u1eb2\u1eb4\u1eb6\u00c2\u1ea6\u1ea4\u1ea8\u1eaa\u1eac\u00c4\u00c5\u0100\u0104 c\u00e7\u0107\u010d C\u00c7\u0106\u010c d\u0111\u010f D\u0110\u010e e\u00e8\u00e9\u1ebb\u1ebd\u1eb9\u00ea\u1ec1\u1ebf\u1ec3\u1ec5\u1ec7\u00eb\u011b\u0113\u0119 E\u00c8\u00c9\u1eba\u1ebc\u1eb8\u00ca\u1ec0\u1ebe\u1ec2\u1ec4\u1ec6\u00cb\u011a\u0112\u0118 i\u00ec\u00ed\u1ec9\u0129\u1ecb\u00ee\u00ef\u012b I\u00cc\u00cd\u1ec8\u0128\u1eca\u00ce\u00cf\u012a l\u0142 L\u0141 n\u00f1\u0148\u0144 N\u00d1\u0147\u0143 o\u00f2\u00f3\u1ecf\u00f5\u1ecd\u00f4\u1ed3\u1ed1\u1ed5\u1ed7\u1ed9\u01a1\u1edf\u1ee1\u1edb\u1edd\u1ee3\u00f6\u00f8\u014d O\u00d2\u00d3\u1ece\u00d5\u1ecc\u00d4\u1ed2\u1ed0\u1ed4\u1ed6\u1ed8\u01a0\u1ede\u1ee0\u1eda\u1edc\u1ee2\u00d6\u00d8\u014c r\u0159 R\u0158 s\u0161\u015b\u0219\u015f S\u0160\u015a\u0218\u015e t\u0165\u021b\u0163 T\u0164\u021a\u0162 u\u00f9\u00fa\u1ee7\u0169\u1ee5\u01b0\u1eeb\u1ee9\u1eed\u1eef\u1ef1\u00fb\u00fc\u016f\u016b U\u00d9\u00da\u1ee6\u0168\u1ee4\u01af\u1eea\u1ee8\u1eec\u1eee\u1ef0\u00db\u00dc\u016e\u016a y\u00fd\u1ef3\u1ef7\u1ef9\u1ef5\u00ff Y\u00dd\u1ef2\u1ef6\u1ef8\u1ef4\u0178 z\u017e\u017c\u017a Z\u017d\u017b\u0179".split(" "):
"a\u00e0\u00e1\u1ea3\u00e3\u1ea1\u0103\u1eb1\u1eaf\u1eb3\u1eb5\u1eb7\u00e2\u1ea7\u1ea5\u1ea9\u1eab\u1ead\u00e4\u00e5\u0101\u0105A\u00c0\u00c1\u1ea2\u00c3\u1ea0\u0102\u1eb0\u1eae\u1eb2\u1eb4\u1eb6\u00c2\u1ea6\u1ea4\u1ea8\u1eaa\u1eac\u00c4\u00c5\u0100\u0104 c\u00e7\u0107\u010dC\u00c7\u0106\u010c d\u0111\u010fD\u0110\u010e e\u00e8\u00e9\u1ebb\u1ebd\u1eb9\u00ea\u1ec1\u1ebf\u1ec3\u1ec5\u1ec7\u00eb\u011b\u0113\u0119E\u00c8\u00c9\u1eba\u1ebc\u1eb8\u00ca\u1ec0\u1ebe\u1ec2\u1ec4\u1ec6\u00cb\u011a\u0112\u0118 i\u00ec\u00ed\u1ec9\u0129\u1ecb\u00ee\u00ef\u012bI\u00cc\u00cd\u1ec8\u0128\u1eca\u00ce\u00cf\u012a l\u0142L\u0141 n\u00f1\u0148\u0144N\u00d1\u0147\u0143 o\u00f2\u00f3\u1ecf\u00f5\u1ecd\u00f4\u1ed3\u1ed1\u1ed5\u1ed7\u1ed9\u01a1\u1edf\u1ee1\u1edb\u1edd\u1ee3\u00f6\u00f8\u014dO\u00d2\u00d3\u1ece\u00d5\u1ecc\u00d4\u1ed2\u1ed0\u1ed4\u1ed6\u1ed8\u01a0\u1ede\u1ee0\u1eda\u1edc\u1ee2\u00d6\u00d8\u014c r\u0159R\u0158 s\u0161\u015b\u0219\u015fS\u0160\u015a\u0218\u015e t\u0165\u021b\u0163T\u0164\u021a\u0162 u\u00f9\u00fa\u1ee7\u0169\u1ee5\u01b0\u1eeb\u1ee9\u1eed\u1eef\u1ef1\u00fb\u00fc\u016f\u016bU\u00d9\u00da\u1ee6\u0168\u1ee4\u01af\u1eea\u1ee8\u1eec\u1eee\u1ef0\u00db\u00dc\u016e\u016a y\u00fd\u1ef3\u1ef7\u1ef9\u1ef5\u00ffY\u00dd\u1ef2\u1ef6\u1ef8\u1ef4\u0178 z\u017e\u017c\u017aZ\u017d\u017b\u0179".split(" "),
d=[];a.split("").forEach(function(e){c.every(function(c){if(-1!==c.indexOf(e)){if(-1<d.indexOf(c))return!1;a=a.replace(RegExp("[".concat(c,"]"),"gm".concat(b)),"[".concat(c,"]"));d.push(c)}return!0})});return a}},{key:"createMergedBlanksRegExp",value:function(a){return a.replace(/[\s]+/gmi,"[\\s]+")}},{key:"createAccuracyRegExp",value:function(a){var b=this,c=this.opt.accuracy,d="string"===typeof c?c:c.value,e="";("string"===typeof c?[]:c.limiters).forEach(function(a){e+="|".concat(b.escapeStr(a))});
switch(d){default:return"()(".concat(a,")");case "complementary":return e="\\s"+(e?e:this.escapeStr("!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~\u00a1\u00bf")),"()([^".concat(e,"]*").concat(a,"[^").concat(e,"]*)");case "exactly":return"(^|\\s".concat(e,")(").concat(a,")(?=$|\\s").concat(e,")")}}}]);z=w;var r,x=function(a){u(this,x);this.ctx=a;this.ie=!1;a=window.navigator.userAgent;if(-1<a.indexOf("MSIE")||-1<a.indexOf("Trident"))this.ie=!0};v(x,[{key:"log",value:function(a){var b=1<arguments.length&&void 0!==
arguments[1]?arguments[1]:"debug",c=this.opt.log;if(this.opt.debug&&"object"===n(c)&&"function"===typeof c[b])c[b]("mark.js: ".concat(a))}},{key:"getSeparatedKeywords",value:function(a){var b=this,c=[];a.forEach(function(a){b.opt.separateWordSearch?a.split(" ").forEach(function(a){a.trim()&&-1===c.indexOf(a)&&c.push(a)}):a.trim()&&-1===c.indexOf(a)&&c.push(a)});return{keywords:c.sort(function(a,c){return c.length-a.length}),length:c.length}}},{key:"isNumeric",value:function(a){return Number(parseFloat(a))==
a}},{key:"checkRanges",value:function(a){var b=this;if(!Array.isArray(a)||"[object Object]"!==Object.prototype.toString.call(a[0]))return this.log("markRanges() will only accept an array of objects"),this.opt.noMatch(a),[];var c=[],d=0;a.sort(function(a,c){return a.start-c.start}).forEach(function(a){var f=b.callNoMatchOnInvalidRanges(a,d),g=f.start,k=f.end;f.valid&&(a.start=g,a.length=k-g,c.push(a),d=k)});return c}},{key:"callNoMatchOnInvalidRanges",value:function(a,b){var c,d,e=!1;a&&"undefined"!==
typeof a.start?(c=parseInt(a.start,10),d=c+parseInt(a.length,10),this.isNumeric(a.start)&&this.isNumeric(a.length)&&0<d-b&&0<d-c?e=!0:(this.log("Ignoring invalid or overlapping range: "+"".concat(JSON.stringify(a))),this.opt.noMatch(a))):(this.log("Ignoring invalid range: ".concat(JSON.stringify(a))),this.opt.noMatch(a));return{start:c,end:d,valid:e}}},{key:"checkWhitespaceRanges",value:function(a,b,c){var d=!0,e=c.length,f=parseInt(a.start,10)-(b-e),f=f>e?e:f;b=f+parseInt(a.length,10);b>e&&(b=e,
this.log("End range automatically set to the max value of ".concat(e)));0>f||0>b-f||f>e||b>e?(d=!1,this.log("Invalid range: ".concat(JSON.stringify(a))),this.opt.noMatch(a)):""===c.substring(f,b).replace(/\s+/g,"")&&(d=!1,this.log("Skipping whitespace only range: "+JSON.stringify(a)),this.opt.noMatch(a));return{start:f,end:b,valid:d}}},{key:"getTextNodes",value:function(a){var b=this,c="",d=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,function(a){d.push({start:c.length,end:(c+=a.textContent).length,
node:a})},function(a){return b.matchesExclude(a.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},function(){a({value:c,nodes:d})})}},{key:"matchesExclude",value:function(a){return t.matches(a,this.opt.exclude.concat(["script","style","title","head","html"]))}},{key:"wrapRangeInTextNode",value:function(a,b,c){var d=!this.opt.element?"mark":this.opt.element;a=a.splitText(b);b=a.splitText(c-b);d=document.createElement(d);d.setAttribute("data-markjs","true");this.opt.className&&d.setAttribute("class",
this.opt.className);d.textContent=a.textContent;a.parentNode.replaceChild(d,a);return b}},{key:"wrapRangeInMappedTextNode",value:function(a,b,c,d,e){var f=this;a.nodes.every(function(g,k){var h=a.nodes[k+1];if("undefined"===typeof h||h.start>b){if(!d(g.node))return!1;var h=b-g.start,j=(c>g.end?g.end:c)-g.start,m=a.value.substr(0,g.start),p=a.value.substr(j+g.start);g.node=f.wrapRangeInTextNode(g.node,h,j);a.value=m+p;a.nodes.forEach(function(c,b){b>=k&&(0<a.nodes[b].start&&b!==k&&(a.nodes[b].start-=
j),a.nodes[b].end-=j)});c-=j;e(g.node.previousSibling,g.start);if(c>g.end)b=g.end;else return!1}return!0})}},{key:"wrapGroups",value:function(a,b,c,d){a=this.wrapRangeInTextNode(a,b,b+c);d(a.previousSibling);return a}},{key:"separateGroups",value:function(a,b,c,d,e){c=b.length;for(var f=1;f<c;f++){var g=a.textContent.indexOf(b[f]);b[f]&&(-1<g&&d(b[f],a))&&(a=this.wrapGroups(a,g,b[f].length,e))}return a}},{key:"wrapMatches",value:function(a,b,c,d,e){var f=this,g=0===b?0:b+1;this.getTextNodes(function(b){b.nodes.forEach(function(b){b=
b.node;for(var e;null!==(e=a.exec(b.textContent))&&""!==e[g];){if(f.opt.separateGroups)b=f.separateGroups(b,e,g,c,d);else{if(!c(e[g],b))continue;var k=e.index;if(0!==g)for(var p=1;p<g;p++)k+=e[p].length;b=f.wrapGroups(b,k,e[g].length,d)}a.lastIndex=0}});e()})}},{key:"wrapMatchesAcrossElements",value:function(a,b,c,d,e){var f=this,g=0===b?0:b+1;this.getTextNodes(function(b){for(var h;null!==(h=a.exec(b.value))&&""!==h[g];){var j=h.index;if(0!==g)for(var m=1;m<g;m++)j+=h[m].length;f.wrapRangeInMappedTextNode(b,
j,j+h[g].length,function(a){return c(h[g],a)},function(b,c){a.lastIndex=c;d(b)})}e()})}},{key:"wrapRangeFromIndex",value:function(a,b,c,d){var e=this;this.getTextNodes(function(f){var g=f.value.length;a.forEach(function(a,d){var j=e.checkWhitespaceRanges(a,g,f.value),m=j.start,l=j.end;j.valid&&e.wrapRangeInMappedTextNode(f,m,l,function(c){return b(c,a,f.value.substring(m,l),d)},function(b){c(b,a)})});d()})}},{key:"unwrapMatches",value:function(a){for(var b=a.parentNode,c=document.createDocumentFragment();a.firstChild;)c.appendChild(a.removeChild(a.firstChild));
b.replaceChild(c,a);this.ie?this.normalizeTextNode(b):b.normalize()}},{key:"normalizeTextNode",value:function(a){if(a){if(3===a.nodeType)for(;a.nextSibling&&3===a.nextSibling.nodeType;)a.nodeValue+=a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);else this.normalizeTextNode(a.firstChild);this.normalizeTextNode(a.nextSibling)}}},{key:"markRegExp",value:function(a,b){var c=this;this.opt=b;this.log('Searching with expression "'.concat(a,'"'));var d=0,e="wrapMatches";this.opt.acrossElements&&
(e="wrapMatchesAcrossElements");this[e](a,this.opt.ignoreGroups,function(a,b){return c.opt.filter(b,a,d)},function(a){d++;c.opt.each(a)},function(){0===d&&c.opt.noMatch(a);c.opt.done(d)})}},{key:"mark",value:function(a,b){var c=this;this.opt=b;var d=0,e="wrapMatches",f=this.getSeparatedKeywords("string"===typeof a?[a]:a),g=f.keywords,k=f.length,f=function j(a){var b=(new z(c.opt)).create(a),f=0;c.log('Searching with expression "'.concat(b,'"'));c[e](b,1,function(b,e){return c.opt.filter(e,a,d,f)},
function(a){f++;d++;c.opt.each(a)},function(){0===f&&c.opt.noMatch(a);g[k-1]===a?c.opt.done(d):j(g[g.indexOf(a)+1])})};this.opt.acrossElements&&(e="wrapMatchesAcrossElements");0===k?this.opt.done(d):f(g[0])}},{key:"markRanges",value:function(a,b){var c=this;this.opt=b;var d=0,e=this.checkRanges(a);e&&e.length?(this.log("Starting to mark with the following ranges: "+JSON.stringify(e)),this.wrapRangeFromIndex(e,function(a,b,d,e){return c.opt.filter(a,b,d,e)},function(a,b){d++;c.opt.each(a,b)},function(){c.opt.done(d)})):
this.opt.done(d)}},{key:"unmark",value:function(a){var b=this;this.opt=a;var c=this.opt.element?this.opt.element:"*",c=c+"[data-markjs]";this.opt.className&&(c+=".".concat(this.opt.className));this.log('Removal selector "'.concat(c,'"'));this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,function(a){b.unwrapMatches(a)},function(a){var e=t.matches(a,c);a=b.matchesExclude(a);return!e||a?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},this.opt.done)}},{key:"opt",set:function(a){this._opt=s({},{element:"",
className:"",exclude:[],iframes:!1,iframesTimeout:5E3,separateWordSearch:!0,acrossElements:!1,ignoreGroups:0,each:function(){},noMatch:function(){},filter:function(){return!0},done:function(){},debug:!1,log:window.console},a)},get:function(){return this._opt}},{key:"iterator",get:function(){return new t(this.ctx,this.opt.iframes,this.opt.exclude,this.opt.iframesTimeout)}}]);r=x;l.fn.mark=function(a,b){(new r(this.get())).mark(a,b);return this};l.fn.markRegExp=function(a,b){(new r(this.get())).markRegExp(a,
b);return this};l.fn.markRanges=function(a,b){(new r(this.get())).markRanges(a,b);return this};l.fn.unmark=function(a){(new r(this.get())).unmark(a);return this};return l});
var JSON;JSON||(JSON={});
(function(){function l(a){return 10>a?"0"+a:a}function q(a){r.lastIndex=0;return r.test(a)?'"'+a.replace(r,function(a){var c=t[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function n(a,k){var c,d,h,p,g=e,f,b=k[a];b&&("object"===typeof b&&"function"===typeof b.toJSON)&&(b=b.toJSON(a));"function"===typeof j&&(b=j.call(k,a,b));switch(typeof b){case "string":return q(b);case "number":return isFinite(b)?String(b):"null";case "boolean":case "null":return String(b);case "object":if(!b)return"null";
e+=m;f=[];if("[object Array]"===Object.prototype.toString.apply(b)){p=b.length;for(c=0;c<p;c+=1)f[c]=n(c,b)||"null";h=0===f.length?"[]":e?"[\n"+e+f.join(",\n"+e)+"\n"+g+"]":"["+f.join(",")+"]";e=g;return h}if(j&&"object"===typeof j){p=j.length;for(c=0;c<p;c+=1)"string"===typeof j[c]&&(d=j[c],(h=n(d,b))&&f.push(q(d)+(e?": ":":")+h))}else for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(h=n(d,b))&&f.push(q(d)+(e?": ":":")+h);h=0===f.length?"{}":e?"{\n"+e+f.join(",\n"+e)+"\n"+g+"}":"{"+f.join(",")+
"}";e=g;return h}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+l(this.getUTCMonth()+1)+"-"+l(this.getUTCDate())+"T"+l(this.getUTCHours())+":"+l(this.getUTCMinutes())+":"+l(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var s=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,m,t={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},j;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,k,c){var d;m=e="";if("number"===typeof c)for(d=0;d<c;d+=1)m+=" ";else"string"===typeof c&&(m=c);if((j=k)&&"function"!==typeof k&&("object"!==typeof k||"number"!==typeof k.length))throw Error("JSON.stringify");return n("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,e){function c(a,d){var g,f,b=a[d];if(b&&"object"===typeof b)for(g in b)Object.prototype.hasOwnProperty.call(b,g)&&(f=c(b,g),void 0!==f?b[g]=f:delete b[g]);return e.call(a,d,b)}var d;a=String(a);s.lastIndex=0;s.test(a)&&(a=a.replace(s,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"===typeof e?c({"":d},""):d;throw new SyntaxError("JSON.parse");})})();
(function(){function C(){var a="{}";if("userDataBehavior"==j){d.load("jStorage");try{a=d.getAttribute("jStorage")}catch(b){}try{r=d.getAttribute("jStorage_update")}catch(c){}g.jStorage=a}D();x();E()}function u(){var a;clearTimeout(F);F=setTimeout(function(){if("localStorage"==j||"globalStorage"==j)a=g.jStorage_update;else if("userDataBehavior"==j){d.load("jStorage");try{a=d.getAttribute("jStorage_update")}catch(b){}}if(a&&a!=r){r=a;var k=l.parse(l.stringify(c.__jstorage_meta.CRC32)),p;C();p=l.parse(l.stringify(c.__jstorage_meta.CRC32));
var e,y=[],f=[];for(e in k)k.hasOwnProperty(e)&&(p[e]?k[e]!=p[e]&&"2."==String(k[e]).substr(0,2)&&y.push(e):f.push(e));for(e in p)p.hasOwnProperty(e)&&(k[e]||y.push(e));s(y,"updated");s(f,"deleted")}},25)}function s(a,b){a=[].concat(a||[]);if("flushed"==b){a=[];for(var c in h)h.hasOwnProperty(c)&&a.push(c);b="deleted"}c=0;for(var p=a.length;c<p;c++)if(h[a[c]])for(var e=0,d=h[a[c]].length;e<d;e++)h[a[c]][e](a[c],b)}function v(){var a=(+new Date).toString();"localStorage"==j||"globalStorage"==j?g.jStorage_update=
a:"userDataBehavior"==j&&(d.setAttribute("jStorage_update",a),d.save("jStorage"));u()}function D(){if(g.jStorage)try{c=l.parse(String(g.jStorage))}catch(a){g.jStorage="{}"}else g.jStorage="{}";z=g.jStorage?String(g.jStorage).length:0;c.__jstorage_meta||(c.__jstorage_meta={});c.__jstorage_meta.CRC32||(c.__jstorage_meta.CRC32={})}function w(){if(c.__jstorage_meta.PubSub){for(var a=+new Date-2E3,b=0,k=c.__jstorage_meta.PubSub.length;b<k;b++)if(c.__jstorage_meta.PubSub[b][0]<=a){c.__jstorage_meta.PubSub.splice(b,
c.__jstorage_meta.PubSub.length-b);break}c.__jstorage_meta.PubSub.length||delete c.__jstorage_meta.PubSub}try{g.jStorage=l.stringify(c),d&&(d.setAttribute("jStorage",g.jStorage),d.save("jStorage")),z=g.jStorage?String(g.jStorage).length:0}catch(p){}}function q(a){if(!a||"string"!=typeof a&&"number"!=typeof a)throw new TypeError("Key name must be string or numeric");if("__jstorage_meta"==a)throw new TypeError("Reserved key name");return!0}function x(){var a,b,k,d,e=Infinity,g=!1,f=[];clearTimeout(G);
if(c.__jstorage_meta&&"object"==typeof c.__jstorage_meta.TTL){a=+new Date;k=c.__jstorage_meta.TTL;d=c.__jstorage_meta.CRC32;for(b in k)k.hasOwnProperty(b)&&(k[b]<=a?(delete k[b],delete d[b],delete c[b],g=!0,f.push(b)):k[b]<e&&(e=k[b]));Infinity!=e&&(G=setTimeout(x,e-a));g&&(w(),v(),s(f,"deleted"))}}function E(){var a;if(c.__jstorage_meta.PubSub){var b,k=A;for(a=c.__jstorage_meta.PubSub.length-1;0<=a;a--)if(b=c.__jstorage_meta.PubSub[a],b[0]>A){var k=b[0],d=b[1];b=b[2];if(t[d])for(var e=0,g=t[d].length;e<
g;e++)t[d][e](d,l.parse(l.stringify(b)))}A=k}}var n=window.jQuery||window.$||(window.$={}),l={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(a){return String(a).evalJSON()}||n.parseJSON||n.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||n.toJSON};if(!l.parse||!l.stringify)throw Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page");var c={__jstorage_meta:{CRC32:{}}},
g={jStorage:"{}"},d=null,z=0,j=!1,h={},F=!1,r=0,t={},A=+new Date,G,B={isXML:function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1},encode:function(a){if(!this.isXML(a))return!1;try{return(new XMLSerializer).serializeToString(a)}catch(b){try{return a.xml}catch(c){}}return!1},decode:function(a){var b="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(a){var b=new ActiveXObject("Microsoft.XMLDOM");b.async="false";b.loadXML(a);return b};
if(!b)return!1;a=b.call("DOMParser"in window&&new DOMParser||window,a,"text/xml");return this.isXML(a)?a:!1}};n.jStorage={version:"0.4.2",set:function(a,b,d){q(a);d=d||{};if("undefined"==typeof b)return this.deleteKey(a),b;if(B.isXML(b))b={_is_xml:!0,xml:B.encode(b)};else{if("function"==typeof b)return;b&&"object"==typeof b&&(b=l.parse(l.stringify(b)))}c[a]=b;for(var g=c.__jstorage_meta.CRC32,e=l.stringify(b),j=e.length,f=2538058380^j,h=0,m;4<=j;)m=e.charCodeAt(h)&255|(e.charCodeAt(++h)&255)<<8|(e.charCodeAt(++h)&
255)<<16|(e.charCodeAt(++h)&255)<<24,m=1540483477*(m&65535)+((1540483477*(m>>>16)&65535)<<16),m^=m>>>24,m=1540483477*(m&65535)+((1540483477*(m>>>16)&65535)<<16),f=1540483477*(f&65535)+((1540483477*(f>>>16)&65535)<<16)^m,j-=4,++h;switch(j){case 3:f^=(e.charCodeAt(h+2)&255)<<16;case 2:f^=(e.charCodeAt(h+1)&255)<<8;case 1:f^=e.charCodeAt(h)&255,f=1540483477*(f&65535)+((1540483477*(f>>>16)&65535)<<16)}f^=f>>>13;f=1540483477*(f&65535)+((1540483477*(f>>>16)&65535)<<16);g[a]="2."+((f^f>>>15)>>>0);this.setTTL(a,
d.TTL||0);s(a,"updated");return b},get:function(a,b){q(a);return a in c?c[a]&&"object"==typeof c[a]&&c[a]._is_xml?B.decode(c[a].xml):c[a]:"undefined"==typeof b?null:b},deleteKey:function(a){q(a);return a in c?(delete c[a],"object"==typeof c.__jstorage_meta.TTL&&a in c.__jstorage_meta.TTL&&delete c.__jstorage_meta.TTL[a],delete c.__jstorage_meta.CRC32[a],w(),v(),s(a,"deleted"),!0):!1},setTTL:function(a,b){var d=+new Date;q(a);b=Number(b)||0;return a in c?(c.__jstorage_meta.TTL||(c.__jstorage_meta.TTL=
{}),0<b?c.__jstorage_meta.TTL[a]=d+b:delete c.__jstorage_meta.TTL[a],w(),x(),v(),!0):!1},getTTL:function(a){var b=+new Date;q(a);return a in c&&c.__jstorage_meta.TTL&&c.__jstorage_meta.TTL[a]?(a=c.__jstorage_meta.TTL[a]-b)||0:0},flush:function(){c={__jstorage_meta:{CRC32:{}}};w();v();s(null,"flushed");return!0},storageObj:function(){function a(){}a.prototype=c;return new a},index:function(){var a=[],b;for(b in c)c.hasOwnProperty(b)&&"__jstorage_meta"!=b&&a.push(b);return a},storageSize:function(){return z},
currentBackend:function(){return j},storageAvailable:function(){return!!j},listenKeyChange:function(a,b){q(a);h[a]||(h[a]=[]);h[a].push(b)},stopListening:function(a,b){q(a);if(h[a])if(b)for(var c=h[a].length-1;0<=c;c--)h[a][c]==b&&h[a].splice(c,1);else delete h[a]},subscribe:function(a,b){a=(a||"").toString();if(!a)throw new TypeError("Channel not defined");t[a]||(t[a]=[]);t[a].push(b)},publish:function(a,b){a=(a||"").toString();if(!a)throw new TypeError("Channel not defined");c.__jstorage_meta||
(c.__jstorage_meta={});c.__jstorage_meta.PubSub||(c.__jstorage_meta.PubSub=[]);c.__jstorage_meta.PubSub.unshift([+new Date,a,b]);w();v()},reInit:function(){C()}};a:{n=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),n=!0,window.localStorage.removeItem("_tmptest")}catch(H){}if(n)try{window.localStorage&&(g=window.localStorage,j="localStorage",r=g.jStorage_update)}catch(I){}else if("globalStorage"in window)try{window.globalStorage&&(g=window.globalStorage[window.location.hostname],
j="globalStorage",r=g.jStorage_update)}catch(J){}else if(d=document.createElement("link"),d.addBehavior){d.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(d);try{d.load("jStorage")}catch(K){d.setAttribute("jStorage","{}"),d.save("jStorage"),d.load("jStorage")}n="{}";try{n=d.getAttribute("jStorage")}catch(L){}try{r=d.getAttribute("jStorage_update")}catch(M){}g.jStorage=n;j="userDataBehavior"}else{d=null;break a}D();x();"localStorage"==j||"globalStorage"==
j?"addEventListener"in window?window.addEventListener("storage",u,!1):document.attachEvent("onstorage",u):"userDataBehavior"==j&&setInterval(u,1E3);E();"addEventListener"in window&&window.addEventListener("pageshow",function(a){a.persisted&&u()},!1)}})();
var ScrollFix=function(a){var b;(a=a||document.querySelector(a))&&a.addEventListener("touchstart",function(){b=a.scrollTop;0>=b&&(a.scrollTop=1);b+a.offsetHeight>=a.scrollHeight&&(a.scrollTop=a.scrollHeight-a.offsetHeight-1)},!1)};
(function(f){var g=[],h={},n=f.routie,j=function(c,b){this.name=b;this.path=c;this.keys=[];this.fns=[];this.params={};var a;a=this.path;var e=this.keys;a instanceof RegExp||(a instanceof Array&&(a="("+a.join("|")+")"),a=a.concat("/?").replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(a,b,c,d,f,g){e.push({name:d,optional:!!g});b=b||"";return""+(g?"":b)+"(?:"+(g?b:"")+(c||"")+(f||c&&"([^/.]+?)"||"([^/]+?)")+")"+(g||"")}).replace(/([\/.])/g,"\\$1").replace(/__plus__/g,
"(.+)").replace(/\*/g,"(.*)"),a=RegExp("^"+a+"$","i"));this.regex=a};j.prototype.addHandler=function(c){this.fns.push(c)};j.prototype.removeHandler=function(c){for(var b=0,a=this.fns.length;b<a;b++)if(c==this.fns[b]){this.fns.splice(b,1);break}};j.prototype.run=function(c){for(var b=0,a=this.fns.length;b<a;b++)this.fns[b].apply(this,c)};j.prototype.match=function(c,b){var a=this.regex.exec(c);if(!a)return!1;for(var e=1,d=a.length;e<d;++e){var f=this.keys[e-1],g="string"==typeof a[e]?decodeURIComponent(a[e]):
a[e];f&&(this.params[f.name]=g);b.push(g)}return!0};j.prototype.toURL=function(c){var b=this.path,a;for(a in c)b=b.replace("/:"+a,"/"+c[a]);b=b.replace(/\/:.*\?/g,"/").replace(/\?/g,"");if(-1!=b.indexOf(":"))throw Error("missing parameters for url: "+b);return b};var l=function(c,b){var a=c.split(" "),e=2==a.length?a[0]:null;c=2==a.length?a[1]:a[0];h[c]||(h[c]=new j(c,e),g.push(h[c]));h[c].addHandler(b)},d=function(c,b){if("function"==typeof b)l(c,b),d.reload();else if("object"==typeof c){for(var a in c)l(a,
c[a]);d.reload()}else"undefined"===typeof b&&d.navigate(c)};d.lookup=function(c,b){for(var a=0,e=g.length;a<e;a++){var d=g[a];if(d.name==c)return d.toURL(b)}};d.remove=function(c,b){var a=h[c];a&&a.removeHandler(b)};d.removeAll=function(){h={};g=[]};d.navigate=function(c,b){b=b||{};var a=b.silent||!1;a&&(f.removeEventListener?f.removeEventListener("hashchange",k):f.detachEvent("onhashchange",k));setTimeout(function(){window.location.hash=c;a&&setTimeout(function(){m()},1)},1)};d.noConflict=function(){f.routie=
n;return d};var k=d.reload=function(){for(var c=window.location.hash.substring(1),b=0,a=g.length;b<a;b++){var e;e=g[b];var d=[];e.match(c,d)?(e.run(d),e=!0):e=!1;if(e)break}},m=function(){f.addEventListener?f.addEventListener("hashchange",k,!1):f.attachEvent("onhashchange",k)};m();f.routie=d})(window);
(function(){for(var a,e=function(){},b="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profileEnd table time timeEnd timeStamp trace warn".split(" "),c=b.length,d=window.console=window.console||{};c--;)a=b[c],d[a]||(d[a]=e)})();
var Sydney={};
Sydney.globals={htmlEl:null,$htmlEl:null,overthrowIsEnabled:null,scrollingIsPolyfilled:null,isTouchDevice:null,cssTransitionsEnabled:null,mobileBreakpoint:600,language:null,heavyAnimationsEnabled:null,forceScrollPolyfill:!1,getTimestamp:function(){return Math.round(+new Date/1E3)},updateBrowserTitle:function(a){document.title=a},getBrowserLanguage:function(){var a="";navigator.language?a=navigator.language:window.navigator.language&&(a=window.navigator.language);return-1!==a.indexOf("sv")||-1!==a.indexOf("SE")?
"swedish":"default"},init:function(){delete Hammer.defaults.stop_browser_behavior.userSelect;this.language=this.getBrowserLanguage();this.$htmlEl=$(this.htmlEl=document.getElementsByTagName("html")[0]);this.scrollingIsPolyfilled="polyfilled"===overthrow.support;this.isTouchDevice="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;this.cssTransitionsEnabled=$("html").hasClass("csstransitions");this.heavyAnimationsEnabled=!0;this.forceScrollPolyfill=!1}};
Sydney.data=function(){function j(a,c){c=c||f;for(var h=0;h<c.length;h++){var b=c[h];if(b.id==a)return b.children;if(_.isArray(b.children)&&(b=j(a,b.children),!1!==b))return b}return!1}function k(a){return _.isUndefined(d[a])?"":d[a].title}function l(a,c){_.isUndefined(a)&&(a=f,c="0");$.each(a,function(a,b){d[b.id]={title:b.title,pid:c,type:b.type};d[b.id].pid=c;_.isUndefined(b.children)||l(b.children,b.id)})}var f=[],d={},e={},g=[];return{init:function(){var a=Sydney.globals.language;$.ajax({type:"GET",
dataType:"json",url:"data/"+a+"/menu.json",async:!1,success:function(a){f=a}});$.ajax({type:"GET",dataType:"json",url:"data/"+a+"/content.json",async:!1,success:function(a){e=a}});$.ajax({type:"GET",url:"data/"+a+"/searchindex.csv",async:!1,success:function(a){g=a.split("\n")}});l()},getArticleDataById:function(a){return _.isUndefined(e[a])?[]:e[a]},getItemMenuParentId:function(a){return _.isUndefined(d[a])?-1:d[a].pid},getArticleTitle:function(a){return _.isArray(e[a])&&!_.isUndefined(e[a][0])?e[a][0].data:
""},getMenuData:function(){return f},getMenuItemChildrenItems:j,getIdOfFirstArticleInMenu:function(){for(var a=f[0],c=!1;!c;)if("document"==a.type)c=!0;else if(_.isArray(a.children))a=a.children[0];else return!1;return a.id},getRootItemId:function(a){if(_.isUndefined(d[a]))return-1;var c=a;for(a=d[a].pid;"0"!==a&&!_.isUndefined(a);)c=a,a=d[c].pid;return c},getItemMenuTitle:k,getPlainTextItemMenuTitle:function(a){return k(a).replace(/<(?:.|\n)*?>/gm,"")},getSearchResults:function(a){var c=[],d,b;for(d=
0;d<g.length;d++)-1!==g[d].indexOf(a)&&(b=g[d].split(";"),_.isString(b[1])&&c.push({id:b[1].replace(" ",""),type:b[3].replace(" ","")}));return c},getDatabase:function(){return e}}}();
Sydney.events=function(){return{trigger:function(a,b,c){$(document).trigger("sydney-"+a+"-"+b,c)},on:function(a,b,c){$(document).on("sydney-"+a+"-"+b,c)},off:function(a,b,c){_.isUndefined(c)?$(document).off("sydney-"+a+"-"+b):$(document).off("sydney-"+a+"-"+b,c)}}}();
Sydney.routes=function(){return{init:function(){},onRoute:function(a,b){routie(a,b)},triggerRoute:function(a){routie(a)}}}();
Sydney.stats=function(){return{init:function(){}}}();
Sydney.templates=function(){function d(a,b){_.isUndefined(c[b])&&$.ajax({url:"templates/"+a+"/"+b+".hbs",success:function(a){_.isUndefined(Handlebars.templates)&&(Handlebars.templates={});c[b]=Handlebars.compile(a)},error:function(){console.log("Virhe: Templatea ei ole tai sit\u00e4 ei saada ladattua.")},async:!1});return c[b]}var c={};return{init:function(){_.isUndefined(Handlebars.templates)||(c=Handlebars.templates);Handlebars.registerHelper("lowercase",function(a){return a.toLowerCase()});Handlebars.registerHelper("ifequal",
function(a,b,c,d){if(a===b)return c();if(d)return d()})},renderTpl:function(a,b,c){return d(a,b)(c||"")},registerPartialTpl:function(a,b){Handlebars.registerPartial(b,d(a,b))}}}();
Sydney.translations=function(){function b(a,b){var e=a.split("."),c=f,d;for(d=0;d<e.length;d++){newValue=c[e[d]];if(_.isUndefined(newValue))return console.error("[translations] missing translation: "+a),"No translation";c=newValue}if(!_.isString(c))return console.error("[translations] missing translation: "+a),"No translation";_.isObject(b)&&$.each(b,function(a,b){c=c.replace("__"+a+"__",b)});return c}var f={};return{init:function(){window.t=b;$.ajax({type:"GET",dataType:"json",url:"lang/"+Sydney.globals.language+
".json",async:!1,success:function(a){f=a}})},getTranslation:b,translateChildrenWithDataAttr:function(a){a.find("[data-transl]").each(function(){$el=$(this);$el.html(b($el.attr("data-transl")))})}}}();
Sydney["user-data"]=function(){return{init:function(){for(var b=window.location.pathname.split("/"),a=b.length-1;0<=a&&!(""!==b[a]&&-1===b[a].indexOf("."));a--);},getOfflineData:function(b,a){setTimeout(function(){data=$.jStorage.get(b);_.isUndefined(a)||a(data)},0)},setOfflineData:function(b,a,c){setTimeout(function(){$.jStorage.set(b,a);_.isUndefined(c)||c()},0)},getOnlineData:function(b,a,c){c("sync-disabled",null,null)},setOnlineData:function(b,a,c,e,d){_.cloneDeep(a);d("sync-disabled",null,null)}}}();
Sydney.user=function(){return{init:function(){}}}();
Sydney.article=function(){function I(a,b,d){var c,e;if(h==a)Sydney.sidebars.hideSidebarsIfNeededToShowContent();else if(b=_.isUndefined(b)?!0:b,d=_.isUndefined(d)?!0:d,c=Sydney.data.getArticleDataById(a),_.isArray(c))if(b){var g={"\u00e4":"a","\u00f6":"o","\u00fc":"u","\u00c4":"A","\u00d6":"O","\u00dc":"U","\u00e1":"a","\u00e0":"a","\u00e2":"a","\u00e9":"e","\u00e8":"e","\u00ea":"e","\u00fa":"u","\u00f9":"u","\u00fb":"u","\u00f3":"o","\u00f2":"o","\u00f4":"o","\u00c1":"A","\u00c0":"A","\u00c2":"A",
"\u00c9":"E","\u00c8":"E","\u00ca":"E","\u00da":"U","\u00d9":"U","\u00db":"U","\u00d3":"O","\u00d2":"O","\u00d4":"O","\u00df":"s"};Sydney.data.getItemMenuTitle(a).toLowerCase().replace(/[\u00f6\u00e4\u00fc\u00d6\u00c4\u00dc\u00e1\u00e0\u00e2\u00e9\u00e8\u00ea\u00fa\u00f9\u00fb\u00f3\u00f2\u00f4\u00c1\u00c0\u00c2\u00c9\u00c8\u00ca\u00da\u00d9\u00db\u00d3\u00d2\u00d4\u00df]/g,function(a){return g[a]||a}).replace(/ /g,"-").replace(/<.*?>/g,"");Sydney.routes.triggerRoute("/artikkeli/"+parseInt(a+"",10).toString(36)+
"/")}else Sydney.events.trigger("article","beforeArticleOpen",{previousArticleId:h,articleId:a}),d&&null!==h&&(M[h]=f.scrollTop()),e=Sydney.data.getRootItemId(a),null!==h&&(b=Sydney.data.getRootItemId(h),e!==b&&Sydney.globals.$htmlEl.removeClass("root-cat-"+b)),Sydney.globals.$htmlEl.addClass("root-cat-"+e),h=a,N(c),d&&(d=M[h],null!==h&&!_.isUndefined(d)&&f.scrollTop(d)),Sydney.events.trigger("article","afterArticleOpen",a)}function N(a){var b="",d,c,A,g=v.html(),L="";if(_.isArray(a)&&0!==a.length){d=
!1;"header1"===a[0].type?(L=a[0].data,v.html(a[0].data),a[0].attributes.pagenum&&(d=t("article.page")+" "+a[0].attributes.pagenum,v.append('<span class="title-pagenum">'+d+"</span>")),d=!0):v.html("Ei otsikkoa tai elementti ei ensimm\u00e4isen\u00e4?");for(A=d?1:0;A<a.length;A++)if(d=U[a[A].type],!_.isUndefined(d)){a:{c=a[A];var j=void 0,l=void 0,h=void 0,w=void 0,p=void 0,m=void 0,k=void 0,u=void 0,s=void 0;switch(d){case "article-el-header-1":j={data:c.data};if(c=c.attributes.pagenum?c.attributes.pagenum:
"")j.pagenum={string:t("article.page"),value:c};break;case "article-el-header-2":j={data:c.data};if(c=c.attributes.pagenum?c.attributes.pagenum:"")j.pagenum={string:t("article.page"),value:c};break;case "article-el-header-3":j={data:c.data};if(c=c.attributes.pagenum?c.attributes.pagenum:"")j.pagenum={string:t("article.page"),value:c};break;case "article-el-ordered-list":j=[];l=c.attributes.element_meta?c.attributes.element_meta:"";for(k=0;k<c.children.length;k++)j.push(c.children[k].data);j={children:j,
elementMeta:l};break;case "article-el-unordered-list":j=[];l=c.attributes.element_meta?c.attributes.element_meta:"";for(k=0;k<c.children.length;k++)j.push(c.children[k].data);j={children:j,elementMeta:l};break;case "article-el-table":if(_.isUndefined(c.children)){c=void 0;break a}j={bodyRows:[],headerRows:[],columnCount:null,elementMeta:null,highlightFirstColumn:!1};l=1;for(k=0;k<c.children.length;k++)if(!_.isUndefined(c.children[k].children)&&1<c.children[k].children.length){l=c.children[k].children.length;
break}j.columnCount=l;j.elementMeta=c.attributes.element_meta?c.attributes.element_meta:null;h=1;_.isObject(c.attributes)&&!_.isUndefined(c.attributes.n_of_header_rows)&&(h=parseInt(c.attributes.n_of_header_rows,10));0===h&&delete j.headerRows;s=[];D=!1;for(k=0;k<c.children.length;k++)if(w=c.children[k],p=[],!_.isUndefined(w.children)){for(u=0;u<w.children.length;u++)if(-1===_.indexOf(s,k+" "+u)){m={data:w.children[u].data};1===w.children.length&&1!==l&&(m.colspan=l);if(_.isObject(w.children[u].attributes)){var q=
w.children[u].attributes,y=!1;_.isUndefined(q.cell_meta)||(m.cellMeta=q.cell_meta);_.isUndefined(q.colspan)||(m.colspan=parseInt(q.colspan,10),y=!0);_.isUndefined(q.rowspan)||(m.rowspan=parseInt(q.rowspan,10),y=!0);if(y){q=1<m.colspan?m.colspan:1;y=1<m.rowspan?m.rowspan:1;if((1<q||1<y)&&k>=h&&!1===D)D=!0;Array.prototype.push.apply(s,V(k,u,y,q))}}p.push(m)}k+1<=h&&1!==c.children.length?j.headerRows.push(p):j.bodyRows.push(p)}break;case "article-el-text-block":l=c.attributes.element_meta?c.attributes.element_meta:
"",j={data:c.data,elementMeta:l}}c=j}b+=Sydney.templates.renderTpl("article",d,c)}f.html(b);x.prepend('<div class="metadata-box-container">        <div class="metadata-box">        <div class="metadata-box__header">        <h3>Lis\u00e4tietoja</h3>        <span class="metadata-box__close"></span>        </div>        <div class="metadata-box__content"></div>        </div>        </div>');O();var B;if(Sydney.globals.overthrowIsEnabled)if(e.addClass("hidden"),e.empty(),n=[],a=$(".article-table"),r=
-1,0<a.length){a.each(function(){B=$(this);if(2===B.children().length)if($headerTableEl=$("<table class='article-table' style='left: 0px; top: 0px;'></table>").append($(this).children().eq(0).clone()),e.append($headerTableEl),n.push({$tableEl:B,$headerEl:$headerTableEl,shouldSyncWidths:!0}),"continuous"===z){var a=$headerTableEl[0];B.parent().scroll(function(){a.style.left=-$(this).scrollLeft()+"px"})}else B.parent().scroll(J)});e.children().addClass("hidden");e.removeClass("hidden");if(!K){if("continuous"===
z)f.on("scroll.sydneyStickyHeader",E);$(window).on("resize.sydneyStickyHeader",F);Sydney.events.on("settings","textSizeChanged.sydneyStickyHeader",F);Sydney.events.on("sidebars","sidebarsStateChanged.sydneyStickyHeader",F);"hide-when-scrolling"===z&&(f.on("scroll.sydneyStickyHeader",function(){J()}),f.hammer().on("doubletap.sydneyStickyHeader",P));K=!0}E()}else f.off("scroll.sydneyStickyHeader"),$(window).off("resize.sydneyStickyHeader"),Sydney.events.off("settings","textSizeChanged.sydneyStickyHeader"),
Sydney.events.off("sidebars","sidebarsStateChanged.sydneyStickyHeader"),"hide-when-scrolling"===z&&f.hammer().off("doubletap.sydneyStickyHeader",P),K=!1;if(!Sydney.globals.isTouchDevice&&Sydney.globals.overthrowIsEnabled)f.on("mousedown",".overthrow-x",W);f.scrollTop(0);G();g+=L;if(-1!==g.indexOf("\u00c4")||-1!==g.indexOf("\u00d6"))C.hide(),setTimeout(function(){C.show()},0);Q();g=x.find('svg[aria-labelledby="MathJax-SVG-1-Title"]');g.off("click.mathjaxClick");g.on("click.mathjaxClick",function(a){var b=
$(this),c=b.children("#MathJax-SVG-1-Title");if(c.length){var d=c.text(),c=document.createElement("img");c.setAttribute("alt",d);d="/math.svg?latex="+encodeURIComponent(d);c.setAttribute("src",d);document.body.appendChild(c);d=document.createRange();d.selectNode(c);var g=window.getSelection();g.removeAllRanges();g.addRange(d);document.execCommand("copy");document.body.removeChild(c);d=t("article.tooltip")+"!";c=a.pageX;a=a.pageY;d=$('<span class="tooltip">'+d+"</span>");a-=15;var e=$('<div class="tooltip-wrapper not-visible">').css({top:a+
"px"}).append(d).appendTo(document.body);a=c-(Math.round(d.outerWidth()/2)-1);e.css({left:a+"px"});e.removeClass("not-visible");setTimeout(function(){e.animate({opacity:0},{duration:500,queue:!1})},700);e.animate({top:"-=20"},{duration:1200,queue:!1,complete:function(){e.remove()}});b.addClass("tap-color");Sydney.globals.$htmlEl.hasClass("root-cat-13730001018472")?b.css("color","#7921ed"):Sydney.globals.$htmlEl.hasClass("root-cat-13730004029344")?b.css("color","#3232fe"):b.css("color","#30d230");
setTimeout(function(){b.css("color","#223")},700);setTimeout(function(){b.removeClass("tap-color");b.css("color","")},1400)}})}}function R(){var a=$(this);1!==a.parent().children().size()&&(p=setTimeout(function(){"THEAD"!==a.parent().prop("tagName")&&(a.hasClass("highlight")?(a.prev().removeClass("row-before-highlight"),a.removeClass("highlight")):(a.parent().children().removeClass("highlight").removeClass("row-before-highlight"),a.prev().addClass("row-before-highlight"),a.addClass("highlight")),
p=null)},Sydney["platform-ios"].getIsIOS()?300:0))}function X(){null!==p&&(clearTimeout(p),p=null)}function S(){if(!D){var a=$(this),b=$(this).closest("table"),a=a.index()+1,d=_.find(n,function(a){return a.$tableEl[0]===b[0]||a.$headerEl[0]===b[0]});d&&($stickyHeaderCell=d.$headerEl.find("th:nth-child("+a+")"),$tableCells=d.$tableEl.find("td:nth-child("+a+"), th:nth-child("+a+")"),console.log($stickyHeaderCell),$tableCells.first().hasClass("column-highlight")?($tableCells.removeClass("column-highlight").prev().removeClass("before-column-highlight"),
$stickyHeaderCell.removeClass("column-highlight").prev().removeClass("before-column-highlight"),H=null):(null!==H&&H.removeClass("column-highlight").prev().removeClass("before-column-highlight"),$tableCells.addClass("column-highlight").prev().addClass("before-column-highlight"),$stickyHeaderCell.addClass("column-highlight").prev().addClass("before-column-highlight"),H=$tableCells.add($stickyHeaderCell)),F())}}function Y(){var a=x.find(".metadata-box-container"),b=$(this).parent().attr("data-cell-meta");
a.length&&b&&(a.find(".metadata-box .metadata-box__content").html("<p>"+b+"</p>"),a.hasClass("metadata-box-container_show")||a.toggleClass("metadata-box-container_show"))}function Z(){var a=x.find(".metadata-box-container");a.hasClass("metadata-box-container_show")&&a.toggleClass("metadata-box-container_show")}function P(){e.hasClass("fade-visually-hidden")?(null!==s&&clearTimeout(s),e.removeClass("hidden"),E(),setTimeout(function(){e.removeClass("fade-visually-hidden")},0)):J()}function J(){null!==
s&&clearTimeout(s);e.addClass("fade-visually-hidden");s=setTimeout(function(){e.addClass("hidden")},150)}function F(){var a;for(a=0;a<n.length;a++)n[a].shouldSyncWidths=!0;E()}function E(){var a=!1;-1!==r&&(a=T(r));if(!a)for(var b=0;b<n.length;b++)if(b!==r&&T(b)){r=b;a=!0;break}a||(-1!==r&&e.children().addClass("hidden"),r=-1)}function T(a){var b=n[a].$tableEl,d=n[a].$headerEl,c=n[a].shouldSyncWidths,f=b.position().top,g=f+b.height();if(0>=f&&0<=g){if(c){var c=b.children(":first").children(":first").children(),
f=d.children(":first").children(":first").children(),h;for(h=0;h<f.length;h++)f.eq(h).css("min-width",c.eq(h).width()+"px");n[a].shouldSyncWidths=!1}r!==a&&(-1!==r&&e.children().addClass("hidden"),e.children().eq(a).removeClass("hidden"));e.children()[a].style.left=-b.parent().scrollLeft()+"px";b=d.height();if(0.4<b/$(window).height())return e.children().eq(a).addClass("hidden"),!1;0<g&&g<=b?e.children()[a].style.top=-(b-g)+"px":e.children()[a].style.top="0px";return!0}return!1}function W(a){var b=
$(this),d=a.clientX,c=b.scrollLeft(),e=b[0].scrollWidth-b.innerWidth(),g;$(document).on("mousemove.dragScroller",function(a){g=c+(d-a.clientX);g=Math.max(0,Math.min(g,e));b.scrollLeft()!==g&&b.scrollLeft(g)});$(document).on("mouseup.dragScroller",function(){$(document).off(".dragScroller")});a.preventDefault()}function Q(){var a=f.width();f.find(".article-table").each(function(){var b=$(this).parent(),d=$(this).width();a>d+50?b.hasClass("table-container-widescreen")||b.addClass("table-container-widescreen"):
b.hasClass("table-container-widescreen")&&b.removeClass("table-container-widescreen")})}function V(a,b,d,c){for(var e=[],g=a;g<a+d;g++)for(var f=b;f<b+c;f++)(g!==a||f!==b)&&e.push(g+" "+f);return e}function G(){if(Sydney.globals.overthrowIsEnabled){var a=v.outerHeight();C.height()!==a&&(C.height(a),e.css("top",a),f.css("top",a))}}function O(){var a=1;Sydney.globals.$htmlEl.hasClass("text-size-small")&&(a=0.8);Sydney.globals.$htmlEl.hasClass("text-size-large")&&(a=1.3);f.add(e).find("img").each(function(){var b=
$(this);b.width(a*b.attr("data-width"));b.height(a*b.attr("data-height"))})}var x,C,v,f,e,h=null,M={},U={header1:"article-el-header-1",header2:"article-el-header-2",header3:"article-el-header-3",ordered_list:"article-el-ordered-list",unordered_list:"article-el-unordered-list",table:"article-el-table",textblock:"article-el-text-block",codeblock:"article-el-text-block"},z="continuous",K=!1,n=[],r=-1,s,p=null,H=null,D=!1;return{init:function(){x=$("#article");C=$("#article-title-container");v=$("#article-title");
f=$("#article-content");$(document.getElementById("main"));e=$("#article-sticky-headers")},start:function(){Sydney["platform-ios"].getIsIOS()&&!Sydney.globals.$htmlEl.hasClass("force-overthrow-polyfill")&&(z="hide-when-scrolling");if("hide-when-scrolling"===z)f.hammer().on("tap","tr",R),f.hammer().on("doubletap","tr",X);else f.on("click","tr",R);f.on("mousedown",function(a){a.shiftKey&&a.preventDefault()});f.on("click","th",S);e.on("click","th",S);f.on("click",".cell-metadata-open",Y);x.on("click",
".metadata-box__close",Z);$(document).on("mouseup",function(a){var d=x.find(".metadata-box-container");!d.is(a.target)&&0===d.has(a.target).length&&d.hasClass("metadata-box-container_show")&&d.toggleClass("metadata-box-container_show")});$(window).resize(_.debounce(G,100));$(window).resize(_.debounce(Q,300));Sydney.events.on("sidebars","sidebarsStateChanged",_.debounce(function(){G()},10));Sydney.events.on("settings","textSizeChanged",function(){G();O()});var a=!1;Sydney.routes.onRoute("/artikkeli/:id/*",
function(b){var d=!0;$("#search-results").is(":visible")&&(d=!1);b=parseInt(b+"",36).toString(10);Sydney.globals.updateBrowserTitle(t("article.article-browser-title",{articletitle:Sydney.data.getPlainTextItemMenuTitle(b)}));I(b,!1,d);a=!0});a||Sydney["recent-articles"].getIdOfMostRecentArticle(function(a){null!==a&&I(a)})},openArticle:N,openArticleById:I,getActiveArticleId:function(){return h},getActiveArticleTitle:function(){return v.html()}}}();
Sydney.bookmarks=function(){function l(a){r||(null!==d&&(clearTimeout(d),d=null),r=!0,a=a||!1,Sydney["user-data"].getOnlineData("bookmarks",v,function(b,j,D){if("success"===b){var g=j.activeBookmarks,d=j.deletedBookmarks;"array"===$.type(g)&&0===g.length&&(g={});var f;a:{b=c;j=g;for(f in b)if(b.hasOwnProperty(f)&&(!j.hasOwnProperty(f)||Math.abs(b[f].ts-j[f].ts)>E)){f=!1;break a}for(f in j)if(j.hasOwnProperty(f)&&!b.hasOwnProperty(f)){f=!1;break a}f=!0}f?(m(!a,!1),console.log("[Kirjanmerkkisync] Paikallinen ja online samat"),
Sydney.events.trigger("bookmarks","bookmarksSyncReady"),p(!1)):($.each(g,function(a){_.isUndefined(c[a])?c[a]=g[a]:c[a]!==g[a]&&g[a].ts>c[a].ts&&(c[a].ts=g[a].ts)}),$.each(d,function(a){_.isUndefined(h[a])?h[a]=d[a]:h[a]!==d[a]&&d[a].ts>h[a].ts&&(h[a].ts=d[a].ts)}),$.each(c,function(a){!_.isUndefined(h[a])&&h[a].ts>c[a].ts&&delete c[a]}),m(!0,!0,D,function(){console.log("[Kirjanmerkkisync] Synkronointi onnistui");Sydney.events.trigger("bookmarks","bookmarksSyncReady");p(!0)}))}else"no-saved-data"===
b?(console.log("[Kirjanmerkkisync] Ei aikaisempaa online-dataa, tallennetaan"),Sydney.events.trigger("bookmarks","bookmarksSyncReady"),m(!a,!0,null),p(!1)):"network-problem"===b&&(console.log("[Kirjanmerkkisync] Verkko-ongelma"),Sydney.events.trigger("bookmarks","bookmarksSyncReady"),m(!a,!1,null),p(!1))}))}function w(a){delete c[a];h[a]={articleId:a,ts:Sydney.globals.getTimestamp()};n();Sydney.events.trigger("bookmarks","bookmarksSyncReady");m(!0,!1);null!==d&&clearTimeout(d);d=setTimeout(function(){l()},
3E3)}function p(a){a&&n();r=!1;null===d&&(d=setTimeout(function(){d=null;l()},1E3*F))}function m(a,b,j,d){var g={activeBookmarks:c,deletedBookmarks:h};_.isUndefined(d)&&(d=function(){});b&&Sydney["user-data"].setOnlineData("bookmarks",g,j,v,d);a&&Sydney["user-data"].setOfflineData("bookmarks",g)}function G(a,b){k=b;Sydney["list-nav"].setNewSettings(e,s[k]);n()}function x(a){y&&(Sydney["list-nav"].setPreviousActiveItemNotActive(e,"category"===k?3:2),Sydney["list-nav"].setListItemActive(e,{id:a},!0,
!0,!0))}function H(){q.toggleClass("active");Sydney["list-nav"].toggleEditMode(e);q.hasClass("active")&&Sydney["list-nav"].setListItemsOfLevelActive(e,2,!0)}function u(a){w(a.id)}function z(a){Sydney.article.openArticleById(a.id)}function n(){var a;a=[{title:t("bookmarks.title"),children:[]}];if("category"===k){var b=[];$.each(c,function(a){b.push(a)});b.length&&(a[0].children=A(b,!0));Sydney["list-nav"].renderAndShowList(e,a,!0)}else"alphabet"===k&&($.each(c,function(b){a[0].children.push({id:b,
rootid:Sydney.data.getRootItemId(b),title:Sydney.data.getItemMenuTitle(b)})}),B(a[0].children),Sydney["list-nav"].renderAndShowList(e,a));x(Sydney.article.getActiveArticleId())}function A(a,b,d){var c=[],g,h,f=Sydney.data.getMenuData(),e;for(e=0;e<f.length;e++)c.push({id:f[e].id,title:f[e].title,children:[]});$.each(a,function(a,b){g=Sydney.data.getRootItemId(b);h=_.findIndex(c,function(a){return a.id===g});if(-1===h)return!0;c[h].children.push({id:b,title:Sydney.data.getItemMenuTitle(b)})});for(e=
c.length-1;0<=e;e--)0===c[e].children.length&&(c[e].hidden=!0);b&&$.each(c,function(a,b){B(b.children)});d&&$.each(c,function(a,b){b.sidetext="("+b.children.length+")"});return c}function B(a){a.sort(function(a,c){return a.title>c.title?1:a.title<c.title?-1:0})}var e,C,q,F=30,r=!1,d=null,y=!1,s,k="category",c={},h={},v=[{setting:"use-time-ago-conversion",property:"ts"}],E=10;return{init:function(){$("#bookmarks");e=$("#bookmarks-list");C=$("#bookmarks-grouping-list");$("#bookmarks-add-button");q=
$("#bookmarks-edit-button");Sydney.events.on("article","afterArticleOpen",function(a,b){x(b)});Sydney.events.on("settings","bookmarksOrderByChanged",G);q.click(H);e.on("click",".bookmark-delete-button",u)},start:function(){s={category:{levels:{1:{css_class:"header-list-item",active:!0,allow_multiple_actives:!0,expandable:!0,children_placeholder_title:t("bookmarks.no_bookmarks_text"),children_placeholder_class:"article-list-item",preserve_actives:!0},2:{css_class:"topic-list-item",active:!0,allow_multiple_actives:!0,
expandable:!0,preserve_actives:!0},3:{css_class:"article-list-item",active:!1,allow_multiple_actives:!1,expandable:!1,click_callback:z,removable:!0,remove_callback:u}}},alphabet:{levels:{1:{css_class:"header-list-item",active:!0,allow_multiple_actives:!0,expandable:!0,children_placeholder_title:t("bookmarks.no_bookmarks_text"),children_placeholder_class:"article-list-item"},2:{css_class:"article-list-item",active:!1,allow_multiple_actives:!1,expandable:!1,click_callback:z,removable:!0,remove_callback:u}}}};
Sydney["list-nav"].createList(e,s[k]);Sydney["list-nav"].setListItemActive(C,{prop:k},!0,!1);Sydney["user-data"].getOfflineData("bookmarks",function(a){null!==a?(c=a.activeBookmarks,h=a.deletedBookmarks,y=!0,n(),l(!0)):l(!1)})},addToBookmarks:function(a){Sydney.data.getRootItemId(a);c[a]={ts:Sydney.globals.getTimestamp()};n();m(!0,!1);null!==d&&clearTimeout(d);d=setTimeout(function(){l()},3E3)},removeBookmark:w,isInBookmarks:function(a){return!_.isUndefined(c[a])},syncBookmarks:l,getListItemsGroupedByRootCats:A}}();
Sydney.help=function(){function f(a){a=_.isUndefined(a)?1:a;c.html(Sydney.templates.renderTpl("help","help-splash-phases"));$(".help-splash-help-img").each(function(a,b){var c=$(b);c.attr("src",c.attr("src").replace("LANG",Sydney.globals.language))});e=$(".help-splash-phase");e.on("click",".help-splash-proceed-button",j);d=$("#help-splash-language-list");Sydney.translations.translateChildrenWithDataAttr(c);Sydney["list-nav"].createList(d,{levels:{1:{css_class:"setting-prop-list-item",active:!1,allow_multiple_actives:"one-per-parent",
expandable:!1,click_callback:k}}});Sydney["list-nav"].renderAndShowList(d,[{title:t("settings.lang_default_title"),prop:"default"},{title:t("settings.lang_swedish_title"),prop:"swedish"}]);Sydney["list-nav"].setListItemActive(d,{prop:Sydney.globals.language},!0,!1);$("#app").addClass("hidden");c.removeClass("hidden");e.addClass("hidden");e.eq(a-1).removeClass("hidden")}function k(a){a.prop!==Sydney.globals.language&&(Sydney["list-nav"].setListItemActive(d,{prop:a.prop},!0,!1),Sydney.settings.changeActiveSettingProp("language",
a.prop))}function j(a){a=$(a.delegateTarget);var b=a.next();a.addClass("hidden");b.length?a.next().removeClass("hidden"):(c.addClass("hidden"),c.html(""),$("#app").removeClass("hidden"),g&&(Sydney.article.openArticleById(Sydney.data.getIdOfFirstArticleInMenu()),g=!1),setTimeout(function(){$(window).resize()},0),Sydney["user-data"].setOfflineData("help-splash-shown","true"),Sydney["user-data"].setOnlineData("help-splash-shown","true",0,null,function(){}))}function l(){b.addClass("hidden");$("#app").removeClass("hidden");
b.html("")}function m(a){"help_splash"===a.action?f(2):"info_splash"===a.action&&(b.html(Sydney.templates.renderTpl("help","info-splash-content-"+Sydney.globals.language)),Sydney.translations.translateChildrenWithDataAttr(b),b.on("click",".info-splash-close-button",l),$("#app").addClass("hidden"),b.removeClass("hidden"))}var h,c,e,b,d,g=!1;return{init:function(){h=$("#help-list");c=$("#help-splash");b=$("#info-splash")},start:function(){Sydney["list-nav"].createList(h,{levels:{1:{css_class:"header-list-item",
active:!0,allow_multiple_actives:!0,expandable:!0},2:{css_class:"setting-prop-list-item",active:!1,expandable:!1,click_callback:m}}});Sydney["list-nav"].renderAndShowList(h,[{title:t("help.title"),children:[{title:t("help.help_splash_title"),action:"help_splash"},{title:t("help.info_splash_title"),action:"info_splash"}]}]);Sydney["user-data"].getOfflineData("help-splash-shown",function(a){null===a&&Sydney["user-data"].getOnlineData("help-splash-shown",null,function(a,b){null===b&&(g=!0,f(2))})})},
showHelpSplash:f}}();
Sydney.menu=function(){function b(a){a.id&&Sydney.article.openArticleById(a.id)}var a,c=!1;return{init:function(){a=$("#menu-list");$("#menu");Sydney.events.on("article","afterArticleOpen",function(b,d){if(c)Sydney["list-nav"].setListItemActive(a,{id:d},!0,!0,!0);else Sydney.events.on("menu","menuReady",function(){Sydney["list-nav"].setListItemActive(a,{id:d},!0,!0,!0)})})},start:function(){Sydney["list-nav"].createList(a,{levels:{1:{css_class:"header-list-item",active:!0,allow_multiple_actives:!0,
expandable:!0},2:{css_class:"topic-list-item",active:!1,allow_multiple_actives:!0,expandable:!0,children_placeholder_title:t("menu.no_articles_in_category"),children_placeholder_class:"article-list-item"},3:{css_class:"article-list-item",active:!1,allow_multiple_actives:!1,expandable:!1,click_callback:b}}});Sydney["list-nav"].renderAndShowList(a,Sydney.data.getMenuData());c=!0;Sydney.events.trigger("menu","menuReady",{})},hideMenu:function(){a.addClass("hidden")},showMenu:function(){a.removeClass("hidden")}}}();
Sydney["recent-articles"]=function(){function j(a,c){if(g)g=!1;else{var e,f;if(!_.isNull(c))if(h)e=_.findIndex(b,function(a){return a===c}),0!==e&&(f=null,-1!==e?(f=b[e],b.splice(e,1)):b.length===k&&(f=b.pop()),null!==f&&Sydney["list-nav"].removeItemFromList(d,{id:f}),b.unshift(c),Sydney["list-nav"].addItemToList(d,{type:"header-item"},{id:c,rootid:Sydney.data.getRootItemId(c),title:Sydney.data.getItemMenuTitle(c)},"prepend"),Sydney["user-data"].setOfflineData("recent-articles",b),Sydney["list-nav"].setListItemActive(d,
{id:c},!0,!1,!1));else Sydney.events.on("recent-articles","data-loaded",function(){j(a,c)})}}function l(a){g=!0;Sydney.article.openArticleById(a.id);Sydney["list-nav"].setListItemActive(d,{id:a.id},!0,!1,!1);event.stopPropagation()}var d,h=!1,b=[],k=5,g=!1;return{init:function(){d=$("#recent-articles-list");Sydney.events.on("article","afterArticleOpen",j)},start:function(){Sydney["list-nav"].createList(d,{levels:{1:{css_class:"header-list-item",active:!0,allow_multiple_actives:!0,expandable:!0,children_placeholder_title:t("recent_articles.no_recent_articles_text"),
children_placeholder_class:"article-list-item"},2:{css_class:"article-list-item",active:!1,allow_multiple_actives:!1,expandable:!1,click_callback:l}}});Sydney["user-data"].getOfflineData("recent-articles",function(a){b=_.isArray(a)?a:[];h=!0;var c;c={title:t("recent_articles.title"),children:[],type:"header-item"};for(a=0;a<b.length;a++)c.children.push({id:b[a],rootid:Sydney.data.getRootItemId(b[a]),title:Sydney.data.getItemMenuTitle(b[a])});Sydney["list-nav"].renderAndShowList(d,[c]);Sydney.events.trigger("recent-articles",
"data-loaded")})},getIdOfMostRecentArticle:function(a){if(h)a(b[0]);else Sydney.events.on("recent-articles","data-loaded",function(){0<b.length?a(b[0]):a(null)})}}}();
Sydney.search=function(){function p(e){b&&(Sydney["list-nav"].setPreviousActiveItemNotActive(g,3),Sydney["list-nav"].setListItemActive(g,{id:e},!0,!1,!1))}function u(){a.val()===t("search.placeholder")?(a.removeClass("placeholder-active"),a.val("")):b||q()}function q(){var e=$(this).val(),a;if(""===e&&b)Sydney.sidebars.restorePreviousLeftSidebarTab(),k.hide(),l.show(),b=!1;else{if(""===e&&!b)return;b||(Sydney.sidebars.clearActiveTabs(),l.hide(),k.show(),b=!0)}a=Sydney.data.getSearchResults(e);var f=
[],h=[],j=[],r=[],d=[];$.each(a,function(a,c){"document"===c.type?j.push({id:c.id,order:n(Sydney.data.getItemMenuTitle(c.id).toLowerCase(),e.toLowerCase()),title:Sydney.data.getItemMenuTitle(c.id)}):"body"===c.type?r.push({id:c.id,order:n(Sydney.data.getItemMenuTitle(c.id),e)}):"category"===c.type&&f.push({id:c.id,order:n(Sydney.data.getItemMenuTitle(c.id),e)})});a=function(a,c){return a.order>c.order?1:a.order<c.order?-1:0};j.sort(a);f.sort(a);$.each(f,function(a,c){$.each(Sydney.data.getMenuItemChildrenItems(c.id),
function(a,c){"document"==c.type&&h.push({id:c.id})})});$.each(j,function(a,c){d.push(c.id)});$.each(r,function(a,c){-1===_.indexOf(d,c.id)&&d.push(c.id)});$.each(h,function(a,c){-1===_.indexOf(d,c.id)&&d.push(c.id)});console.log(d);a=!0;if(null!==m&&m.length===d.length)for(i=0;i<d.length;i++)d[i]!==m[i]&&(a=!1);else a=!1;a||(s(d),p(Sydney.article.getActiveArticleId()));m=d}function v(){""===$(this).val()&&(a.addClass("placeholder-active"),a.val(t("search.placeholder")))}function w(a){a.id&&Sydney.article.openArticleById(a.id,
!0,!1)}function s(a){var b=[{title:"Hakutulokset",id:1,children:[]}];a.length&&(b[0].children=Sydney.bookmarks.getListItemsGroupedByRootCats(a,!1,!0));Sydney["list-nav"].renderAndShowList(g,b)}function n(a,b){var f=null;$.each(b.split(" "),function(b,j){b=a.indexOf(j);if(-1!==a.indexOf(j)&&(null===f||f>b))f=b});return null!==f?f:100}var a,k,g,l,b=!1,m=null;return{init:function(){a=$("#search-field");k=$("#search-results");g=$("#search-results-list");l=$("#left-sidebar-tabs-content");a.val(t("search.placeholder"));
Sydney.events.on("article","afterArticleOpen",function(b,g){p(g);var f=a.val();if(f){var h=$("#article");h.unmark({done:function(){h.mark(f,{element:"span",className:"search-term-match",accuracy:"partially",caseSensitive:!1,separateWordSearch:!1,acrossElements:!0,exclude:[".MathJax .math *"],diacritics:!1,done:function(){h.find('svg[aria-labelledby="MathJax-SVG-1-Title"]').each(function(){-1!==$(this).children("#MathJax-SVG-1-Title").text().indexOf(f)&&$(this).wrap('<span data-markjs="true" class="search-term-match"></span>')});
var a=h.find(".search-term-match");if(a.length){var b=a[0],d=$(b).offset().top-175,b=$(b).closest("table").children("thead");b.length&&(b=b[0],b=$(b).outerHeight(),d=35<b?d-(b+8):d-44);$("#article-content").scrollTop(d);var e=!1;a.each(function(){var a=$(this).parent();if(e){if(a.is(e))return}else e=a;if("TD"===a.prop("tagName")){var b=a.parent();b.hasClass("highlight")||(b.addClass("highlight"),0!==b.index()&&(b=b.prev(),!b.hasClass("highlight")&&!b.hasClass("row-before-highlight")&&b.addClass("row-before-highlight")))}e=
a})}}})}})}});a.on("click",function(){Sydney["platform-android"].getIsAndroid()&&a.focus()});a.on("focus",u);a.on("keyup",q);a.on("blur",v);if(Sydney.globals.scrollingIsPolyfilled)a.on("touchstart",function(a){a.preventDefault()})},start:function(){Sydney["list-nav"].createList(g,{levels:{1:{css_class:"header-list-item",active:!0,allow_multiple_actives:!0,expandable:!0,children_placeholder_title:t("search.no_results_text"),children_placeholder_class:"article-list-item",preserve_actives:!0},2:{css_class:"topic-list-item",
active:!0,allow_multiple_actives:!0,expandable:!0,preserve_actives:!0},3:{css_class:"article-list-item",active:!1,allow_multiple_actives:!1,expandable:!1,click_callback:w,show_more_enabled:!0,show_more_min_article_count:5,show_more_button_title:t("search.show_all_results_text"),show_less_button_title:t("search.show_less_results_text")}}});s([])},exitSearchIfIsOpen:function(){b&&(k.hide(),l.show(),b=!1,a.addClass("placeholder-active"),a.val(t("search.placeholder")),a.blur())}}}();
Sydney.settings=function(){function m(a,e){var b=n(a),d=c[a];c[a].prop!==e&&(c[a]={ts:Sydney.globals.getTimestamp(),prop:e},Sydney["user-data"].setOfflineData(g+a,c[a]),b.sync_online&&p(a),k(a),b.update_callback(e,d.prop,!1))}function u(a){m(a.setting,a.prop)}function k(a){Sydney["list-nav"].setListItemActive(h,{type:"setting-prop",setting:a,prop:c[a].prop},!0,!1)}function p(a){var e=n(a);e.sync_online&&Sydney["user-data"].getOnlineData(g+a,q,function(b,d,f){"success"===b?d.ts>c[a].ts&&d.prop!==c[a].prop?
(c[a]=d,Sydney["user-data"].setOfflineData(g+a,c[a]),k(a),e.update_callback(c[a].prop)):d.ts<c[a].ts?l(a,f):d.ts===r.ts&&d.lang!==r.lang&&l(a,f):"no-saved-data"===b&&l(a,f)})}function l(a,e){Sydney["user-data"].setOnlineData(g+a,c[a],e,q,function(){})}function n(a){return _.find(j,function(e){return e.name===a})}var h,r={ts:0,lang:"default"},q=[{setting:"use-time-ago-conversion",property:"ts"}],j,c={},g="maol-setting-";return{init:function(){h=$("#settings-list");$("#settings-help-button");var a=
{"text-size":function(a,b,d){var c="text-size-"+a,s=Sydney.globals.$htmlEl;d||s.removeClass("text-size-"+b);s.addClass(c);Sydney.events.trigger("settings","textSizeChanged",a)},language:function(a,b,d){d||(Sydney.events.trigger("settings","languageChanged",a),setTimeout(function(){location.reload(!0)},200))},animations:function(a){var b=Sydney.globals.$htmlEl;"enabled"===a?($listEls=$(".list-navigation"),$listEls.addClass("transitions-disabled"),b.addClass("animations-enabled"),b.removeClass("animations-disabled"),
setTimeout(function(){$listEls.removeClass("transitions-disabled")},0)):(b.removeClass("animations-enabled"),b.addClass("animations-disabled"))},"bookmarks-order-by":function(a){Sydney.events.trigger("settings","bookmarksOrderByChanged",a)}};j=[{name:"text-size",title:t("settings.text_size_title"),sync_online:!1,props:[{name:"small",title:t("settings.text_size_small_title")},{name:"medium",title:t("settings.text_size_medium_title")},{name:"large",title:t("settings.text_size_large_title")}],defaultProp:"medium",
update_callback:a["text-size"]},{name:"animations",title:t("settings.anim_title"),sync_online:!1,props:[{name:"enabled",title:t("settings.anim_enabled_title")},{name:"disabled",title:t("settings.anim_disabled_title")}],defaultProp:"enabled",update_callback:a.animations},{name:"bookmarks-order-by",title:t("settings.bookmarks_order_by_title"),sync_online:!1,props:[{name:"alphabet",title:t("settings.bookmarks_order_by_alphabet_title")},{name:"category",title:t("settings.bookmarks_order_by_category_title")}],
defaultProp:"category",update_callback:a["bookmarks-order-by"]}]},start:function(){Sydney["list-nav"].createList(h,{levels:{1:{css_class:"header-list-item",active:!0,allow_multiple_actives:!0,expandable:!0},2:{css_class:"setting-list-item",active:!1,allow_multiple_actives:!0,expandable:!0},3:{css_class:"setting-prop-list-item",active:!1,allow_multiple_actives:"one-per-parent",expandable:!1,click_callback:u}}});var a=[];$.each(j,function(c,b){var d=[];$.each(b.props,function(a,c){d.push({title:c.title,
type:"setting-prop",setting:b.name,prop:c.name})});a.push({title:b.title,type:"setting",setting:b.name,children:d})});Sydney["list-nav"].renderAndShowList(h,[{title:t("settings.title"),children:a}]);$.each(j,function(a,b){c[b.name]={prop:b.defaultProp,ts:0};var d=b.name,f;Sydney["user-data"].getOfflineData(g+d,function(a){_.isObject(a)&&(_.isString(a.prop)&&_.isNumber(a.ts))&&(f=_.findIndex(b.props,function(b){return b.name===a.prop}),-1!==f&&(c[d]=a));p(d,!0);k(d,c[d]);b.update_callback(c[d].prop,
null,!0)})})},getTextSize:function(){return"medium"},getAnimationsEnabled:function(){return!0},changeActiveSettingProp:m}}();
Sydney.sidebars=function(){function x(){Sydney.globals.overthrowIsEnabled&&(!c()&&Sydney.settings.getAnimationsEnabled())&&(D.addClass("not-visible"),E.removeClass("not-visible"))}function q(){Sydney.globals.overthrowIsEnabled&&(!c()&&Sydney.settings.getAnimationsEnabled())&&(D.removeClass("not-visible"),E.addClass("not-visible"))}function y(){n&&c()&&g();null!==r&&(clearTimeout(r),r=null,Sydney.globals.overthrowIsEnabled&&q());!a.hasClass("show-left-sidebar-completed")&&!s&&(a.addClass("show-left-sidebar"),
p=!0,Sydney["user-data"].setOfflineData("left-sidebar-open",!0),c()||x(),s=setTimeout(function(){a.addClass("show-left-sidebar-completed");q();Sydney.events.trigger("sidebars","sidebarsStateChanged");s=null},Sydney.settings.getAnimationsEnabled()?z:0))}function f(){a.hasClass("show-left-sidebar-completed")&&!r?a.removeClass("show-left-sidebar-completed"):a.hasClass("show-left-sidebar")&&null!==s&&(clearTimeout(s),s=null);a.removeClass("show-left-sidebar");p=!1;Sydney["user-data"].setOfflineData("left-sidebar-open",
!1);c()||x();r=setTimeout(function(){q();Sydney.events.trigger("sidebars","sidebarsStateChanged");r=null},Sydney.settings.getAnimationsEnabled()?z:0)}function A(){p&&c()&&f();null!==u&&(clearTimeout(u),u=null,q());!a.hasClass("show-right-sidebar-completed")&&!t&&(x(),a.addClass("show-right-sidebar"),n=!0,Sydney["user-data"].setOfflineData("right-sidebar-open",!0),t=setTimeout(function(){a.addClass("show-right-sidebar-completed");q();Sydney.events.trigger("sidebars","sidebarsStateChanged");t=null},
Sydney.settings.getAnimationsEnabled()?z:0))}function g(){x();u=setTimeout(function(){q();Sydney.events.trigger("sidebars","sidebarsStateChanged");u=null},Sydney.settings.getAnimationsEnabled()?z:0);a.hasClass("show-right-sidebar-completed")?a.removeClass("show-right-sidebar-completed"):a.hasClass("show-right-sidebar")&&null!==t&&(clearTimeout(t),t=null);a.removeClass("show-right-sidebar");n=!1;Sydney["user-data"].setOfflineData("right-sidebar-open",!1)}function G(){Sydney.globals.overthrowIsEnabled?
$(window).width()<Sydney.globals.mobileBreakpoint&&setTimeout(function(){f();g()},50):(f(),g())}function H(){"left"===j?(d=e=a.hasClass("show-left-sidebar-completed")?k:0,b.addClass("transitions-disabled"),l.addClass("transitions-disabled"),a.removeClass("show-left-sidebar-completed"),B?(b.css("-ms-transform","translate("+e+"px, 0)"),l.css("-ms-transform","translate("+e+"px, 0)")):(b.css("-webkit-transform","translate("+e+"px, 0)"),l.css("-webkit-transform","translate("+e+"px, 0)"))):"right"===j&&
(d=e=a.hasClass("show-right-sidebar-completed")?-k:0,b.addClass("transitions-disabled"),m.addClass("transitions-disabled"),a.removeClass("show-right-sidebar-completed"),B?(b.css("-ms-transform","translate("+e+"px, 0)"),m.css("-ms-transform","translate("+e+"px, 0)")):(b.css("-webkit-transform","translate("+e+"px, 0)"),m.css("-webkit-transform","translate("+e+"px, 0)")))}function I(a){var J=a.attr("data-id"),b=$("#"+J);$(".left-sidebar-tab").removeClass("active");a.addClass("active");$(".left-sidebar-tab-content").removeClass("active");
b.addClass("active");C=a;Sydney.events.trigger("sidebars","leftSidebarTabChanged",J)}function K(){c()&&(p&&n)&&(a.removeClass("animate-sidebar"),setTimeout(function(){f();a.addClass("animate-sidebar")},0))}function c(){return $(window).width()<Sydney.globals.mobileBreakpoint}var l,m,F,b,a,D,E,z=300,s=null,t=null,r=null,u=null,j=null,v=!1,e=null,d=null,w=0,k=270,C=null,p=!0,n=!1,B=null;return{init:function(){a=Sydney.globals.$htmlEl;b=$("#main");l=$("#left-sidebar");m=$("#right-sidebar");F=$("#sidebar-active-overlay");
D=$("#topbar-right-buttons");E=$("#fake-topbar-right-buttons");Sydney["user-data"].getOfflineData("left-sidebar-open",function(h){null!==h&&(p=h);if(p&&(a.addClass("show-left-sidebar").addClass("show-left-sidebar-completed"),c())){setTimeout(function(){a.addClass("animate-sidebar")},0);return}Sydney["user-data"].getOfflineData("right-sidebar-open",function(h){null!==h&&(n=h);n&&a.addClass("show-right-sidebar").addClass("show-right-sidebar-completed");setTimeout(function(){a.addClass("animate-sidebar")},
0)})})},start:function(){B=Sydney["platform-wp"].getIsWindowsPhone();C=$("#left-sidebar-tabs").children().first();$(window).resize(_.debounce(K,200));$("#left-sidebar-close-button").click(function(){hideSidebar()});$(".left-sidebar-tab").click(function(){var a=$(this);a.hasClass("active")||(I(a),Sydney.search.exitSearchIfIsOpen())});F.click(function(h){a.hasClass("show-left-sidebar")&&f();a.hasClass("show-right-sidebar")&&g();h.preventDefault()});F.on("touchstart",function(a){a.preventDefault()});
if(Sydney.globals.overthrowIsEnabled&&Sydney.globals.cssTransitionsEnabled&&Sydney.settings.getAnimationsEnabled())a.hammer().on("dragstart",function(h){if(Sydney.settings.getAnimationsEnabled()&&c()){var b=a.hasClass("show-left-sidebar-completed"),e=a.hasClass("show-right-sidebar-completed"),d=h.gesture.center.pageX,f=!b&&30>d||b&&240<d,d=!e&&d>$(window).width()-30||e&&d<$(window).width()-240;f&&!e?(j="left",H(),v=!0,h.gesture.preventDefault()):d&&!b&&(j="right",H(),v=!0,h.gesture.preventDefault())}}).on("dragright dragleft",
function(a){if(v){var f=e+a.gesture.deltaX,c,g;"left"===j?(g=l,c=Math.min(k,Math.max(0,f))):"right"===j&&(g=m,c=Math.max(-k,Math.min(0,f)));0!==c-d&&(w=c-d);d=c;B?(b.css("-ms-transform","translate("+d+"px, 0)"),g.css("-ms-transform","translate("+d+"px, 0)")):(b.css("-webkit-transform","translate("+d+"px, 0)"),g.css("-webkit-transform","translate("+d+"px, 0)"));a.gesture.preventDefault()}}).on("dragend",function(a){if(v){var c;"left"===j?(c=e+a.gesture.deltaX,Math.min(k,Math.max(0,c)),b.removeClass("transitions-disabled"),
b.css("-webkit-transform",""),b.css("-ms-transform",""),l.removeClass("transitions-disabled"),l.css("-webkit-transform",""),l.css("-ms-transform",""),0!==w?0<w?y():f():d>k/2?y():f()):"right"===j&&(c=e+a.gesture.deltaX,Math.max(-k,Math.min(0,c)),b.removeClass("transitions-disabled"),b.css("-webkit-transform",""),b.css("-ms-transform",""),m.removeClass("transitions-disabled"),m.css("-webkit-transform",""),m.css("-ms-transform",""),0!==w?0>w?A():g():d<k/2?A():g());v=!1;a.gesture.preventDefault()}});
Sydney.events.on("article","afterArticleOpen",G)},showLeftSidebar:y,hideLeftSidebar:f,toggleLeftSidebar:function(){p?f():y()},showRightSidebar:A,hideRightSidebar:g,toggleRightSidebar:function(){n?g():A()},clearActiveTabs:function(){$(".left-sidebar-tab").removeClass("active");$(".left-sidebar-tab-content").removeClass("active")},restorePreviousLeftSidebarTab:function(){null!==C&&I(C)},hideSidebarsIfNeededToShowContent:G}}();
Sydney.topbar=function(){var c,a;return{init:function(){$("#topbar");c=$("#topic-title");a=$(".topbar-add-to-bookmarks-button");$("#topbar-left-sidebar-button").click(function(){Sydney.sidebars.toggleLeftSidebar()});$(".topbar-right-sidebar-button").click(function(){Sydney.sidebars.toggleRightSidebar()});a.click(function(){var b=Sydney.article.getActiveArticleId();Sydney.bookmarks.isInBookmarks(b)?(Sydney.bookmarks.removeBookmark(b),a.removeClass("bookmark-added")):(Sydney.bookmarks.addToBookmarks(b),
a.addClass("bookmark-added"))});Sydney.events.on("article","afterArticleOpen",function(b,d){Sydney.bookmarks.isInBookmarks(d)?a.addClass("bookmark-added"):a.removeClass("bookmark-added");var e=Sydney.data.getItemMenuParentId(d);c.html(Sydney.data.getItemMenuTitle(e))});Sydney.events.on("bookmarks","bookmarksSyncReady",function(){Sydney.bookmarks.isInBookmarks(Sydney.article.getActiveArticleId())?a.addClass("bookmark-added"):a.removeClass("bookmark-added")})},start:function(){}}}();
Sydney["list-nav"]=function(){function x(b,d){var c={levels:{1:{css_class:"level-1-list-item",active:!0,allow_multiple_actives:!0,expandable:!0,click_callback:null,removable:!1,remove_callback:null,children_placeholder_title:null,children_placeholder_class:null},2:{css_class:"level-2-list-item",active:!1,allow_multiple_actives:!0,expandable:!0,click_callback:null,removable:!1,remove_callback:null,children_placeholder_title:null,children_placeholder_class:null},3:{css_class:"level-3-list-item",active:!1,
allow_multiple_actives:!0,expandable:!1,click_callback:null,removable:!1,remove_callback:null,children_placeholder_title:null,children_placeholder_class:null}}};$.extend(!0,c,d);b.data(k+"settings",c);b.data(k+"preserved-active-items",[]);b.data(k+"preserved-to-be-deleted-items",[])}function y(b,d,c,e,g,f){var h,j,m,l,r,q=n(b),p;l=b.data(k+g);if(_.isArray(l)){$.each(q.levels,function(d,f){f[c]&&(h=z(b,d),h.each(function(b,c){j=$(c);m=$(this).data();r=!1;for(p=0;p<l.length;p++)preservedStatusItem=
l[p],_.isEqual(m,preservedStatusItem.props)&&(r=!0,preservedStatusItem.status=j.hasClass(e));!r&&!_.isEmpty(m)&&l.push({props:m,status:j.hasClass(e),level:d})}))});b.data(k+g,l);for(p=0;p<l.length;p++)preservedStatusItem=l[p],_.isFunction(f)&&f(d,preservedStatusItem.status,preservedStatusItem.level,preservedStatusItem.props)}else l=[],b.data(k+g,l)}function E(b){var d=$(b.delegateTarget);b=$(this).parent();var c=b.parentsUntil(d).length/2+1,e=b.data(),g=n(d),f=g.levels[c].click_callback,h=g.levels[c].expandable,
j=b.hasClass("show-more-list-item"),m=b.hasClass("show-less-list-item"),l=d.data(k+"edit-mode-active");!l&&_.isFunction(f)&&f(e);h?($childItemsEl=b.children(".expanded-list-items"),$childItemsEl.length&&(b.toggleClass("active"),Sydney.settings.getAnimationsEnabled()&&Sydney.globals.heavyAnimationsEnabled?($childItemsEl.finish(),$childItemsEl.hasClass("list-hidden")?(b.addClass("active"),$childItemsEl.removeClass("list-hidden"),e=$childItemsEl.css("height","auto").height(),$childItemsEl.height(0),
$childItemsEl.animate({height:e},300,"swing",function(){$childItemsEl.css("height","")})):(b.removeClass("active"),$childItemsEl.animate({height:0},300,"swing",function(){$childItemsEl.addClass("list-hidden");$childItemsEl.css("height","")}))):$childItemsEl.toggleClass("list-hidden"))):l&&A(d,b);if(j)b.addClass("hidden"),b.nextAll().removeClass("hidden"),b.parent().append(u(q(d,{title:g.levels[c].show_less_button_title},c,!1,"show-less-list-item"))),b.remove();else if(m){var r=0,s=g.levels[c].show_more_min_article_count,
m=b.parent().parent(),j=m.offsetParent();console.log(m,j);b.parent().children().each(function(){r+1>=s-1&&$(this).addClass("hidden");r+1===s-1&&$(this).before(u(q(d,{title:g.levels[c].show_more_button_title},c,!1,"show-more-list-item")));r++});b.remove();b=m.position().top;console.log("listitemin distanssi: ",b);0>b&&j.scrollTop(j.scrollTop()+b)}}function A(b,d){var c=d.parent().parent(),e=c.find(".children-delete-button");d.toggleClass("to-be-deleted");c=c.find(".to-be-deleted").length;0<c?(e.html(t("listnav.delete_children_text",
{deletecount:c})),e.removeClass("hidden")):e.addClass("hidden")}function F(b){var d=$(b.delegateTarget);$(this);var c=$(this).parent().parent(),e=c.find(".to-be-deleted"),g,c=c.parentsUntil(d).length/2+2,f=n(d).levels[c].remove_callback,h;e.each(function(){g=$(this);_.isFunction(f)&&(h=g.data(),f(h))});b.stopPropagation()}function B(b,d,c,e){$itemsEl=d.children(".expanded-list-items");if(!$itemsEl.length)return!1;level=d.parentsUntil(b).length/2+2;tplData=q(b,c,level);html=u(tplData);$itemsEl.hasClass("placeholder")&&
($itemsEl.removeClass("placeholder"),$itemsEl.html(""));if("append"===e)$itemsEl.append(html);else if("prepend"===e)$itemsEl.prepend(html);else if("alphabet"===e){var g=null;$itemsEl.find(".list-item-button").each(function(){var b=$(this);if(b.html()<c.title)g=b;else return!1});null!==g?g.parent().after(html):$itemsEl.prepend(html)}}function s(b,d,c,e){c&&(c&&!e?(c=b.data(k+"last-active-items"),e=d.parentsUntil(b).length/2+1,_.isObject(c)?(!_.isUndefined(c[e])&&c[e][0]!==d[0]&&(c[e].removeClass("active"),
c[e].children(".expanded-list-items").addClass("list-hidden")),c[e]=d):(c={},c[e]=d,b.data(k+"last-active-items",c))):c&&"one-per-parent"===e&&d.parent().children().each(function(){var b=$(this);b.hasClass("active")&&(b.removeClass("active"),b.children(".expanded-list-items").addClass("list-hidden"))}),d.addClass("active"),d.children(".expanded-list-items").removeClass("list-hidden"))}function v(b,d){var c=!1;$.each(d,function(d,g){c=!1===c?b.find(".list-item[data-"+d+'="'+g+'"]'):c.filter("[data-"+
d+'="'+g+'"]')});return c}function u(b){return Sydney.templates.renderTpl("list-nav","list-nav-item",b)}function w(b,d,c){c=_.isUndefined(c)?1:c;var e,g=C(b,c),f=[],h=n(b);if(!0===h.levels[c].show_more_enabled&&d.length>=h.levels[c].show_more_min_article_count){var j=h.levels[c].show_more_min_article_count;for(e=0;e<d.length;e++)e+1>=j-1&&(d[e].hidden=!0),e+1===j-1&&f.push(q(b,{title:h.levels[c].show_more_button_title},c,!1,"show-more-list-item")),f.push(q(b,d[e],c,g)),_.isArray(d[e].children)&&(f[e].children=
w(b,d[e].children,c+1))}else for(e=0;e<d.length;e++)f.push(q(b,d[e],c,g)),_.isArray(d[e].children)&&(f[e].children=w(b,d[e].children,c+1));return f}function q(b,d,c,e,g){var f={},h=n(b),j=h.levels[c].css_class,m=["title","sidetext","children","hidden"];f["class"]="";_.isString(j)&&(f["class"]+=j);_.isString(g)&&(f["class"]+=" "+g);f.isActive=_.isUndefined(e)?C(b,c):e;!_.isUndefined(d.hidden)&&!0===d.hidden&&(f.isHidden=!0);h.levels[c].removable&&(f.Removable=!0);!_.isUndefined(h.levels[c+1])&&h.levels[c+
1].removable&&(f.childrenAreRemovable=!0);_.isString(h.levels[c].children_placeholder_title)&&(b=h.levels[c].children_placeholder_class,f.placeholder={title:h.levels[c].children_placeholder_title,"class":b?b:j});f.title=d.title;_.isUndefined(d.sidetext)||(f.sidetext=d.sidetext);f.props={};$.each(d,function(b,c){-1===_.indexOf(m,b)&&(f.props[b]=c)});return f}function D(b,d,c,e,g){var f,h,j;c=parseInt(c,10);g=_.isUndefined(g)?1:g;for(f=0;f<b.length;f++){if(g===c&&(h=!0,$.each(e,function(c,d){b[f].props[c]=
_.isNumber(b[f].props[c])?b[f].props[c].toString():b[f].props[c];d=_.isNumber(d)?d.toString():d;b[f].props[c]!==d&&(h=!1)}),h))return b[f].isActive=d,!0;if(g<c&&_.isArray(b[f].children)&&(j=D(b[f].children,d,c,e,g+1)))return!0}return!1}function C(b,d){var c=n(b).levels[d].active;return!_.isUndefined(c)?c:!1}function n(b){return b.data(k+"settings")}function z(b,d){$listItemEls=b.children();if(1<d)for(a=0;a<d-1;a++)$listItemEls=$listItemEls.children().children();return $listItemEls}var G=[],k="sydney-list-nav-";
return{init:function(){Sydney.templates.registerPartialTpl("list-nav","list-nav-item")},createList:function(b,d){x(b,d);G.push(b);b.on("click",".list-item-button",E);b.on("click",".children-delete-button",F)},setNewSettings:x,renderAndShowList:function(b,d){var c=w(b,d),e="",g;y(b,c,"preserve_actives","active","preserved-active-items",D);y(b,c,"removable","to-be-deleted","preserved-to-be-deleted-items",null);for(g=0;g<c.length;g++)e+=u(c[g]);b.html(e);var c=b.data(k+"preserved-to-be-deleted-items"),
f;$.each(c,function(c,d){!1!==d.status&&(f=".list-item",$.each(d.props,function(b,c){"id"===b&&(f+="[data-"+b+'="'+c+'"]')}),A(b,b.find(f)))})},addItemToList:function(b,d,c,e){n(b);$listItemEl=v(b,d);if(!1===$listItemEl&&$listItemEl.length)return!1;B(b,$listItemEl,c,e)},removeItemFromList:function(b,d){$filteredListItemEl=v(b,d);if(!1!==$filteredListItemEl&&$filteredListItemEl.length){var c=$filteredListItemEl,e=c.parent();if(1===e.children().length){var g=e.parent(),f=g.parentsUntil(b).length/2+
1,h=n(b);B(b,g,{"class":h.levels[f].children_placeholder_class,title:h.levels[f].children_placeholder_title},"prepend");e.addClass("placeholder")}c.remove()}},setListItemActive:function(b,d,c,e,g){var f=null,h=n(b),f=v(b,d);!1!==f&&f.length&&(d=f.parentsUntil(b).length/2+1,s(b,f,c,h.levels[d].allow_multiple_actives),e&&f.parentsUntil(b,".list-item").each(function(){s(b,$(this),!0,!0)}),g&&(c=f.offsetParent(),e=f.position().top,f=f.outerHeight(),g=c.height(),0>e?c.scrollTop(c.scrollTop()+e):e+f>g&&
c.scrollTop(c.scrollTop()+e-g+f)))},setListItemsOfLevelActive:function(b,d,c){z(b,d).each(function(){s(b,$(this),c,!0)})},setPreviousActiveItemNotActive:function(b,d){var c=b.data(k+"last-active-items");_.isObject(c)&&!_.isUndefined(c[d])&&(c[d].removeClass("active"),c[d].children(".expanded-list-items").addClass("list-hidden"),c[d]=void 0)},enableEditMode:function(b){b.addClass("edit-active")},disableEditMode:function(b){b.removeClass("edit-active")},toggleEditMode:function(b){var d=b.data(k+"edit-mode-active");
!_.isUndefined(d)&&d?(b.removeClass("edit-active"),b.data(k+"edit-mode-active",!1)):(b.addClass("edit-active"),b.data(k+"edit-mode-active",!0))}}}();
Sydney.debug=function(){return{init:function(){var a="";window.location.hash&&(a=window.location.hash.substring(1));-1!==a.indexOf("test-ios-scroll")&&(Sydney.globals.supportsWebkitOverflowScrolling=!0);-1!==a.indexOf("test-old-browsers")&&(Sydney.globals.forceScrollPolyfill="force-disable");-1!==a.indexOf("force-scroll-polyfill")&&(Sydney.globals.forceScrollPolyfill=!0)}}}();
Sydney["platform-android"]=function(){var a;return{init:function(){if(a=-1<navigator.userAgent.toLowerCase().indexOf("android"))Sydney.globals.heavyAnimationsEnabled=!1,Sydney.globals.forceScrollPolyfill=!0,-1<navigator.userAgent.toLowerCase().indexOf("chrome")&&(Sydney.globals.forceScrollPolyfill=!1)},getIsAndroid:function(){return a}}}();
Sydney["platform-ios"]=function(){var c=!1,a;return{init:function(){if(c=/iP(hone|od|ad)/.test(navigator.platform)){$(".overthrow-y").each(function(){new ScrollFix(this)});var b=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);a=[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3]||0,10)];6>=a[0]&&(Sydney.globals.heavyAnimationsEnabled=!1,Sydney.globals.$htmlEl.addClass("platform-old-ios"));if(7===a[0]||4>=a[0])Sydney.globals.forceScrollPolyfill=!0;4>=a&&(b=$('meta["name=viewport"]').attr("content").replace("user-scalable=no",
"user-scalable=0"),$('meta["name=viewport"]').attr("content",b))}},getIsIOS:function(){return c}}}();
Sydney["platform-wp"]=function(){var a=!1;return{init:function(){if(a=null!==navigator.userAgent.match(/Windows Phone/i)){if("-ms-user-select"in document.documentElement.style&&navigator.userAgent.match(/IEMobile\/10\.0/)){var b=document.createElement("style");b.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}"));document.getElementsByTagName("head")[0].appendChild(b)}$("body").on("selectstart",function(a){a.preventDefault()},!1);$("html").removeClass("csstransforms3d")}},
getIsWindowsPhone:function(){return a}}}();
$(document).ready(function(){var a,b;new FastClick(document.body);Sydney.globals.init();"undefined"!=typeof Sydney.debug&&Sydney.debug.init();for(b in Sydney)a=Sydney[b],Sydney.hasOwnProperty(b)&&(a!==Sydney.globals&&a!==Sydney.debug&&"undefined"!==typeof a.init)&&a.init();"force-disable"!==Sydney.globals.forceScrollPolyfill&&overthrow.set(Sydney.globals.forceScrollPolyfill);Sydney.globals.overthrowIsEnabled=Sydney.globals.$htmlEl.hasClass("overthrow-enabled");"polyfilled"===overthrow.support&&(document.ontouchmove=
function(a){a.preventDefault()});Sydney.globals.overthrowIsEnabled||Sydney.globals.$htmlEl.addClass("overthrow-disabled");document.title=t("common.default-browser-title");for(b in Sydney)a=Sydney[b],Sydney.hasOwnProperty(b)&&(a!==Sydney.globals&&a!==Sydney.debug&&"undefined"!==typeof a.start)&&a.start();setTimeout(function(){Sydney.globals.$htmlEl.removeClass("app-loading");$(window).trigger("resize")},1E3)});
